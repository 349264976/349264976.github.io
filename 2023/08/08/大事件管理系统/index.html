<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>fuguangmengying | fuguangmengying</title><meta name="author" content="en"><meta name="copyright" content="en"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="后台数据管理系统 - 项目架构设计在线演示：https:&#x2F;&#x2F;fe-bigevent-web.itheima.net&#x2F;login 接口文档:   https:&#x2F;&#x2F;apifox.com&#x2F;apidoc&#x2F;shared-26c67aee-0233-4d23-aab7-08448fdf95ff&#x2F;api-93850835 接口根路径：  http:&#x2F;&#x2F;big-event-vue-api-t.itheima.ne">
<meta property="og:type" content="article">
<meta property="og:title" content="fuguangmengying">
<meta property="og:url" content="https://349264976.github.io/2023/08/08/%E5%A4%A7%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="fuguangmengying">
<meta property="og:description" content="后台数据管理系统 - 项目架构设计在线演示：https:&#x2F;&#x2F;fe-bigevent-web.itheima.net&#x2F;login 接口文档:   https:&#x2F;&#x2F;apifox.com&#x2F;apidoc&#x2F;shared-26c67aee-0233-4d23-aab7-08448fdf95ff&#x2F;api-93850835 接口根路径：  http:&#x2F;&#x2F;big-event-vue-api-t.itheima.ne">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://349264976.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2023-08-08T11:33:00.000Z">
<meta property="article:modified_time" content="2023-08-08T15:47:17.557Z">
<meta property="article:author" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://349264976.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://349264976.github.io/2023/08/08/%E5%A4%A7%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'fuguangmengying',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-08 23:47:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/default_top_img.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="fuguangmengying"><span class="site-name">fuguangmengying</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-08T11:33:00.000Z" title="发表于 2023-08-08 19:33:00">2023-08-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-08T15:47:17.557Z" title="更新于 2023-08-08 23:47:17">2023-08-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="后台数据管理系统-项目架构设计"><a href="#后台数据管理系统-项目架构设计" class="headerlink" title="后台数据管理系统 - 项目架构设计"></a>后台数据管理系统 - 项目架构设计</h1><p>在线演示：<a target="_blank" rel="noopener" href="https://fe-bigevent-web.itheima.net/login">https://fe-bigevent-web.itheima.net/login</a></p>
<p>接口文档:   <a target="_blank" rel="noopener" href="https://apifox.com/apidoc/shared-26c67aee-0233-4d23-aab7-08448fdf95ff/api-93850835">https://apifox.com/apidoc/shared-26c67aee-0233-4d23-aab7-08448fdf95ff/api-93850835</a></p>
<p><strong>接口根路径：</strong>  <a target="_blank" rel="noopener" href="http://big-event-vue-api-t.itheima.net/">http://big-event-vue-api-t.itheima.net</a></p>
<p>本项目的技术栈 本项目技术栈基于 <a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/">ES6</a>、<a target="_blank" rel="noopener" href="https://cn.vuejs.org/index.html">vue3</a>、<a target="_blank" rel="noopener" href="https://pinia.web3doc.top/">pinia</a>、<a target="_blank" rel="noopener" href="https://router.vuejs.org/">vue-router</a> 、vite 、axios 和 <a target="_blank" rel="noopener" href="https://element-plus.org/">element-plus</a></p>
<p><img src="/assets/image-20230711003405635.png" alt="image-20230711003405635"></p>
<h2 id="项目页面介绍"><a href="#项目页面介绍" class="headerlink" title="项目页面介绍"></a>项目页面介绍</h2><p><img src="/assets/image-20230706205300370.png" alt="image-20230706205300370"></p>
<p><img src="/assets/image-20230706210947086.png" alt="image-20230706210947086"></p>
<p><img src="/assets/image-20230706211055251.png" alt="image-20230706211055251"></p>
<p><img src="/assets/image-20230706211033589.png" alt="image-20230706211033589"></p>
<h2 id="pnpm-包管理器-创建项目"><a href="#pnpm-包管理器-创建项目" class="headerlink" title="pnpm 包管理器 - 创建项目"></a>pnpm 包管理器 - 创建项目</h2><p>一些优势：比同类工具快 2倍 左右、节省磁盘空间… <a target="_blank" rel="noopener" href="https://www.pnpm.cn/">https://www.pnpm.cn/</a></p>
<p>安装方式：</p>
<pre><code>npm install -g pnpm
</code></pre>
<p>创建项目：</p>
<pre><code>pnpm create vue
</code></pre>
<p><img src="/assets/image-20230710172832242.png" alt="image-20230710172832242"></p>
<h2 id="ESLint-amp-prettier-配置代码风格"><a href="#ESLint-amp-prettier-配置代码风格" class="headerlink" title="ESLint &amp; prettier 配置代码风格"></a>ESLint &amp; prettier 配置代码风格</h2><p><strong>环境同步：</strong></p>
<ol>
<li><strong>安装了插件 ESlint，开启保存自动修复</strong></li>
<li><strong>禁用了插件 Prettier，并关闭保存自动格式化</strong></li>
</ol>
<pre><code class="jsx">// ESlint插件 + Vscode配置 实现自动格式化修复
&quot;editor.codeActionsOnSave&quot;: &#123;
    &quot;source.fixAll&quot;: true
&#125;,
&quot;editor.formatOnSave&quot;: false,
</code></pre>
<p><strong>配置文件 .eslintrc.cjs</strong></p>
<ol>
<li><p>prettier 风格配置 <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/options.html">https://prettier.io</a></p>
<ol>
<li><p>单引号</p>
</li>
<li><p>不使用分号</p>
</li>
<li><p>每行宽度至多80字符</p>
</li>
<li><p>不加对象|数组最后逗号</p>
</li>
<li><p>换行符号不限制（win mac 不一致）</p>
</li>
</ol>
</li>
<li><p>vue组件名称多单词组成（忽略index.vue）</p>
</li>
<li><p>props解构（关闭）</p>
</li>
</ol>
<pre><code class="jsx">  rules: &#123;
    &#39;prettier/prettier&#39;: [
      &#39;warn&#39;,
      &#123;
        singleQuote: true, // 单引号
        semi: false, // 无分号
        printWidth: 80, // 每行宽度至多80字符
        trailingComma: &#39;none&#39;, // 不加对象|数组最后逗号
        endOfLine: &#39;auto&#39; // 换行符号不限制（win mac 不一致）
      &#125;
    ],
    &#39;vue/multi-word-component-names&#39;: [
      &#39;warn&#39;,
      &#123;
        ignores: [&#39;index&#39;] // vue组件名称多单词组成（忽略index.vue）
      &#125;
    ],
    &#39;vue/no-setup-props-destructure&#39;: [&#39;off&#39;], // 关闭 props 解构的校验
    // 💡 添加未定义变量错误提示，create-vue@3.6.3 关闭，这里加上是为了支持下一个章节演示。
    &#39;no-undef&#39;: &#39;error&#39;
  &#125;
</code></pre>
<h2 id="基于-husky-的代码检查工作流"><a href="#基于-husky-的代码检查工作流" class="headerlink" title="基于 husky  的代码检查工作流"></a>基于 husky  的代码检查工作流</h2><p>husky 是一个 git hooks 工具  ( git的钩子工具，可以在特定时机执行特定的命令 )</p>
<p><strong>husky 配置</strong></p>
<ol>
<li><p>git初始化 git init</p>
</li>
<li><p>初始化 husky 工具配置  <a target="_blank" rel="noopener" href="https://typicode.github.io/husky/">https://typicode.github.io/husky/</a></p>
</li>
</ol>
<pre><code class="jsx">pnpm dlx husky-init &amp;&amp; pnpm install
</code></pre>
<ol start="3">
<li>修改 .husky&#x2F;pre-commit 文件</li>
</ol>
<pre><code class="jsx">pnpm lint
</code></pre>
<p><strong>问题：</strong>默认进行的是全量检查，耗时问题，历史问题。</p>
<p><strong>lint-staged 配置</strong></p>
<ol>
<li>安装</li>
</ol>
<pre><code class="jsx">pnpm i lint-staged -D
</code></pre>
<ol start="2">
<li>配置 <code>package.json</code></li>
</ol>
<pre><code class="jsx">&#123;
  // ... 省略 ...
  &quot;lint-staged&quot;: &#123;
    &quot;*.&#123;js,ts,vue&#125;&quot;: [
      &quot;eslint --fix&quot;
    ]
  &#125;
&#125;

&#123;
  &quot;scripts&quot;: &#123;
    // ... 省略 ...
    &quot;lint-staged&quot;: &quot;lint-staged&quot;
  &#125;
&#125;
</code></pre>
<ol start="3">
<li>修改 .husky&#x2F;pre-commit 文件</li>
</ol>
<pre><code class="jsx">pnpm lint-staged
</code></pre>
<h2 id="调整项目目录"><a href="#调整项目目录" class="headerlink" title="调整项目目录"></a>调整项目目录</h2><p>默认生成的目录结构不满足我们的开发需求，所以这里需要做一些自定义改动。主要是两个工作：</p>
<ul>
<li>删除初始化的默认文件</li>
<li>修改剩余代码内容</li>
<li>新增调整我们需要的目录结构</li>
<li>拷贝初始化资源文件，安装预处理器插件</li>
</ul>
<ol>
<li><p>删除文件</p>
</li>
<li><p>修改内容</p>
</li>
</ol>
<p><code>src/router/index.js</code></p>
<pre><code class="jsx">import &#123; createRouter, createWebHistory &#125; from &#39;vue-router&#39;

const router = createRouter(&#123;
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: []
&#125;)

export default router
</code></pre>
<p><code>src/App.vue</code></p>
<pre><code class="jsx">&lt;script setup&gt;&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;&lt;/style&gt;
</code></pre>
<p><code>src/main.js</code></p>
<pre><code class="jsx">import &#123; createApp &#125; from &#39;vue&#39;
import &#123; createPinia &#125; from &#39;pinia&#39;

import App from &#39;./App.vue&#39;
import router from &#39;./router&#39;

const app = createApp(App)

app.use(createPinia())
app.use(router)
app.mount(&#39;#app&#39;)
</code></pre>
<ol start="3">
<li>新增需要目录 api  utils</li>
</ol>
<p><img src="/assets/image-20230710215822678.png" alt="image-20230710215822678"></p>
<ol start="4">
<li>将项目需要的全局样式 和 图片文件，复制到 assets 文件夹中,  并将全局样式在main.js中引入</li>
</ol>
<pre><code class="jsx">import &#39;@/assets/main.scss&#39;
</code></pre>
<ul>
<li>安装 sass 依赖</li>
</ul>
<pre><code class="jsx">pnpm add sass -D
</code></pre>
<h2 id="VueRouter4-路由代码解析"><a href="#VueRouter4-路由代码解析" class="headerlink" title="VueRouter4 路由代码解析"></a>VueRouter4 路由代码解析</h2><p>基础代码解析</p>
<pre><code class="jsx">import &#123; createRouter, createWebHistory &#125; from &#39;vue-router&#39;

// createRouter 创建路由实例，===&gt; new VueRouter()
// 1. history模式: createWebHistory()   http://xxx/user
// 2. hash模式: createWebHashHistory()  http://xxx/#/user

// vite 的配置 import.meta.env.BASE_URL 是路由的基准地址，默认是 ’/‘
// https://vitejs.dev/guide/build.html#public-base-path

// 如果将来你部署的域名路径是：http://xxx/my-path/user
// vite.config.ts  添加配置  base: my-path，路由这就会加上 my-path 前缀了

const router = createRouter(&#123;
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: []
&#125;)

export default router
</code></pre>
<p>import.meta.env.BASE_URL 是Vite 环境变量：<a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/env-and-mode.html">https://cn.vitejs.dev/guide/env-and-mode.html</a></p>
<h2 id="引入-element-ui-组件库"><a href="#引入-element-ui-组件库" class="headerlink" title="引入 element-ui 组件库"></a>引入 element-ui 组件库</h2><p><strong>官方文档：</strong> <a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/">https://element-plus.org/zh-CN/</a></p>
<ul>
<li>安装</li>
</ul>
<pre><code class="jsx">$ pnpm add element-plus
</code></pre>
<p><strong>自动按需：</strong></p>
<ol>
<li>安装插件</li>
</ol>
<pre><code class="jsx">pnpm add -D unplugin-vue-components unplugin-auto-import
</code></pre>
<ol start="2">
<li>然后把下列代码插入到你的 <code>Vite</code> 或 <code>Webpack</code> 的配置文件中</li>
</ol>
<pre><code class="jsx">...
import AutoImport from &#39;unplugin-auto-import/vite&#39;
import Components from &#39;unplugin-vue-components/vite&#39;
import &#123; ElementPlusResolver &#125; from &#39;unplugin-vue-components/resolvers&#39;

// https://vitejs.dev/config/
export default defineConfig(&#123;
  plugins: [
    ...
    AutoImport(&#123;
      resolvers: [ElementPlusResolver()]
    &#125;),
    Components(&#123;
      resolvers: [ElementPlusResolver()]
    &#125;)
  ]
&#125;)
</code></pre>
<ol start="3">
<li>直接使用</li>
</ol>
<pre><code class="jsx">&lt;template&gt;
  &lt;div&gt;
    &lt;el-button type=&quot;primary&quot;&gt;Primary&lt;/el-button&gt;
    &lt;el-button type=&quot;success&quot;&gt;Success&lt;/el-button&gt;
    &lt;el-button type=&quot;info&quot;&gt;Info&lt;/el-button&gt;
    &lt;el-button type=&quot;warning&quot;&gt;Warning&lt;/el-button&gt;
    &lt;el-button type=&quot;danger&quot;&gt;Danger&lt;/el-button&gt;
    ...
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><img src="/assets/image-20230710225018162.png" alt="image-20230710225018162"></p>
<p><strong>彩蛋：</strong>默认 components 下的文件也会被自动注册~</p>
<h2 id="Pinia-构建用户仓库-和-持久化"><a href="#Pinia-构建用户仓库-和-持久化" class="headerlink" title="Pinia - 构建用户仓库 和 持久化"></a>Pinia - 构建用户仓库 和 持久化</h2><p>官方文档：<a target="_blank" rel="noopener" href="https://prazdevs.github.io/pinia-plugin-persistedstate/zh/">https://prazdevs.github.io/pinia-plugin-persistedstate/zh/</a></p>
<ol>
<li>安装插件 pinia-plugin-persistedstate</li>
</ol>
<pre><code class="jsx">pnpm add pinia-plugin-persistedstate -D
</code></pre>
<ol start="2">
<li>使用 main.js</li>
</ol>
<pre><code class="jsx">import persist from &#39;pinia-plugin-persistedstate&#39;
...
app.use(createPinia().use(persist))
</code></pre>
<ol start="3">
<li>配置 stores&#x2F;user.js</li>
</ol>
<pre><code class="jsx">import &#123; defineStore &#125; from &#39;pinia&#39;
import &#123; ref &#125; from &#39;vue&#39;

// 用户模块
export const useUserStore = defineStore(
  &#39;big-user&#39;,
  () =&gt; &#123;
    const token = ref(&#39;&#39;) // 定义 token
    const setToken = (t) =&gt; (token.value = t) // 设置 token

    return &#123; token, setToken &#125;
  &#125;,
  &#123;
    persist: true // 持久化
  &#125;
)
</code></pre>
<h2 id="Pinia-配置仓库统一管理"><a href="#Pinia-配置仓库统一管理" class="headerlink" title="Pinia - 配置仓库统一管理"></a>Pinia - 配置仓库统一管理</h2><p>pinia 独立维护</p>
<p>- 现在：初始化代码在 main.js 中，仓库代码在 stores 中，代码分散职能不单一</p>
<p>- 优化：由 stores 统一维护，在 stores&#x2F;index.js 中完成 pinia 初始化，交付 main.js 使用</p>
<p>仓库 统一导出</p>
<p>- 现在：使用一个仓库 import { useUserStore } from <code>./stores/user.js</code> 不同仓库路径不一致</p>
<p>- 优化：由 stores&#x2F;index.js 统一导出，导入路径统一 <code>./stores</code>，而且仓库维护在 stores&#x2F;modules 中</p>
<h2 id="数据交互-请求工具设计"><a href="#数据交互-请求工具设计" class="headerlink" title="数据交互 - 请求工具设计"></a>数据交互 - 请求工具设计</h2><p><img src="/assets/image-20230711071913061.png" alt="image-20230711071913061"></p>
<h3 id="1-创建-axios-实例"><a href="#1-创建-axios-实例" class="headerlink" title="1. 创建 axios 实例"></a>1. 创建 axios 实例</h3><p>们会使用 axios 来请求后端接口, 一般都会对 axios 进行一些配置 (比如: 配置基础地址等)</p>
<p>一般项目开发中, 都会对 axios 进行基本的二次封装, 单独封装到一个模块中, 便于使用</p>
<ol>
<li>安装 axios</li>
</ol>
<pre><code>pnpm add axios
</code></pre>
<ol start="2">
<li><p>新建 <code>utils/request.js</code> 封装 axios 模块</p>
<p>利用 axios.create 创建一个自定义的 axios 来使用</p>
<p><a target="_blank" rel="noopener" href="http://www.axios-js.com/zh-cn/docs/#axios-create-config">http://www.axios-js.com/zh-cn/docs/#axios-create-config</a></p>
</li>
</ol>
<pre><code class="js">import axios from &#39;axios&#39;

const baseURL = &#39;http://big-event-vue-api-t.itheima.net&#39;

const instance = axios.create(&#123;
  // TODO 1. 基础地址，超时时间
&#125;)

instance.interceptors.request.use(
  (config) =&gt; &#123;
    // TODO 2. 携带token
    return config
  &#125;,
  (err) =&gt; Promise.reject(err)
)

instance.interceptors.response.use(
  (res) =&gt; &#123;
    // TODO 3. 处理业务失败
    // TODO 4. 摘取核心响应数据
    return res
  &#125;,
  (err) =&gt; &#123;
    // TODO 5. 处理401错误
    return Promise.reject(err)
  &#125;
)

export default instance
</code></pre>
<h3 id="2-完成-axios-基本配置"><a href="#2-完成-axios-基本配置" class="headerlink" title="2. 完成 axios 基本配置"></a>2. 完成 axios 基本配置</h3><pre><code class="jsx">import &#123; useUserStore &#125; from &#39;@/stores/user&#39;
import axios from &#39;axios&#39;
import router from &#39;@/router&#39;
import &#123; ElMessage &#125; from &#39;element-plus&#39;

const baseURL = &#39;http://big-event-vue-api-t.itheima.net&#39;

const instance = axios.create(&#123;
  baseURL,
  timeout: 100000
&#125;)

instance.interceptors.request.use(
  (config) =&gt; &#123;
    const userStore = useUserStore()
    if (userStore.token) &#123;
      config.headers.Authorization = userStore.token
    &#125;
    return config
  &#125;,
  (err) =&gt; Promise.reject(err)
)

instance.interceptors.response.use(
  (res) =&gt; &#123;
    if (res.data.code === 0) &#123;
      return res
    &#125;
    ElMessage(&#123; message: res.data.message || &#39;服务异常&#39;, type: &#39;error&#39; &#125;)
    return Promise.reject(res.data)
  &#125;,
  (err) =&gt; &#123;
    ElMessage(&#123; message: err.response.data.message || &#39;服务异常&#39;, type: &#39;error&#39; &#125;)
    console.log(err)
    if (err.response?.status === 401) &#123;
      router.push(&#39;/login&#39;)
    &#125;
    return Promise.reject(err)
  &#125;
)

export default instance
export &#123; baseURL &#125;
</code></pre>
<h2 id="首页整体路由设计"><a href="#首页整体路由设计" class="headerlink" title="首页整体路由设计"></a>首页整体路由设计</h2><p><strong>实现目标:</strong></p>
<ul>
<li>完成整体路由规划【搞清楚要做几个页面，它们分别在哪个路由下面，怎么跳转的…..】</li>
<li>通过观察,  点击左侧导航,  右侧区域在切换,  那右侧区域内容一直在变,  那这个地方就是一个路由的出口</li>
<li>我们需要搭建嵌套路由</li>
</ul>
<p>目标：</p>
<ul>
<li>把项目中所有用到的组件及路由表, 约定下来</li>
</ul>
<p><strong>约定路由规则</strong></p>
<table>
<thead>
<tr>
<th>path</th>
<th>文件</th>
<th>功能</th>
<th>组件名</th>
<th>路由级别</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;login</td>
<td>views&#x2F;login&#x2F;LoginPage.vue</td>
<td>登录&amp;注册</td>
<td>LoginPage</td>
<td>一级路由</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>views&#x2F;layout&#x2F;LayoutContainer.vue</td>
<td>布局架子</td>
<td>LayoutContainer</td>
<td>一级路由</td>
</tr>
<tr>
<td>├─ &#x2F;article&#x2F;manage</td>
<td>views&#x2F;article&#x2F;ArticleManage.vue</td>
<td>文章管理</td>
<td>ArticleManage</td>
<td>二级路由</td>
</tr>
<tr>
<td>├─ &#x2F;article&#x2F;channel</td>
<td>views&#x2F;article&#x2F;ArticleChannel.vue</td>
<td>频道管理</td>
<td>ArticleChannel</td>
<td>二级路由</td>
</tr>
<tr>
<td>├─ &#x2F;user&#x2F;profile</td>
<td>views&#x2F;user&#x2F;UserProfile.vue</td>
<td>个人详情</td>
<td>UserProfile</td>
<td>二级路由</td>
</tr>
<tr>
<td>├─ &#x2F;user&#x2F;avatar</td>
<td>views&#x2F;user&#x2F;UserAvatar.vue</td>
<td>更换头像</td>
<td>UserAvatar</td>
<td>二级路由</td>
</tr>
<tr>
<td>├─ &#x2F;user&#x2F;password</td>
<td>views&#x2F;user&#x2F;UserPassword.vue</td>
<td>重置密码</td>
<td>UserPassword</td>
<td>二级路由</td>
</tr>
</tbody></table>
<p>明确了路由规则，可以全部配完，也可以边写边配。</p>
<h1 id="登录注册页面-element-plus-表单-amp-表单校验"><a href="#登录注册页面-element-plus-表单-amp-表单校验" class="headerlink" title="登录注册页面 [element-plus 表单 &amp; 表单校验]"></a>登录注册页面 [element-plus 表单 &amp; 表单校验]</h1><h2 id="注册登录-静态结构-amp-基本切换"><a href="#注册登录-静态结构-amp-基本切换" class="headerlink" title="注册登录 静态结构 &amp; 基本切换"></a>注册登录 静态结构 &amp; 基本切换</h2><ol>
<li>安装 element-plus 图标库</li>
</ol>
<pre><code class="jsx">pnpm i @element-plus/icons-vue
</code></pre>
<ol start="2">
<li>静态结构准备</li>
</ol>
<pre><code class="jsx">&lt;script setup&gt;
import &#123; User, Lock &#125; from &#39;@element-plus/icons-vue&#39;
import &#123; ref &#125; from &#39;vue&#39;
const isRegister = ref(true)
&lt;/script&gt;

&lt;template&gt;
  &lt;el-row class=&quot;login-page&quot;&gt;
    &lt;el-col :span=&quot;12&quot; class=&quot;bg&quot;&gt;&lt;/el-col&gt;
    &lt;el-col :span=&quot;6&quot; :offset=&quot;3&quot; class=&quot;form&quot;&gt;
      &lt;el-form ref=&quot;form&quot; size=&quot;large&quot; autocomplete=&quot;off&quot; v-if=&quot;isRegister&quot;&gt;
        &lt;el-form-item&gt;
          &lt;h1&gt;注册&lt;/h1&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-input :prefix-icon=&quot;User&quot; placeholder=&quot;请输入用户名&quot;&gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-input
            :prefix-icon=&quot;Lock&quot;
            type=&quot;password&quot;
            placeholder=&quot;请输入密码&quot;
          &gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-input
            :prefix-icon=&quot;Lock&quot;
            type=&quot;password&quot;
            placeholder=&quot;请输入再次密码&quot;
          &gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-button class=&quot;button&quot; type=&quot;primary&quot; auto-insert-space&gt;
            注册
          &lt;/el-button&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item class=&quot;flex&quot;&gt;
          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = false&quot;&gt;
            ← 返回
          &lt;/el-link&gt;
        &lt;/el-form-item&gt;
      &lt;/el-form&gt;
      &lt;el-form ref=&quot;form&quot; size=&quot;large&quot; autocomplete=&quot;off&quot; v-else&gt;
        &lt;el-form-item&gt;
          &lt;h1&gt;登录&lt;/h1&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-input :prefix-icon=&quot;User&quot; placeholder=&quot;请输入用户名&quot;&gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-input
            name=&quot;password&quot;
            :prefix-icon=&quot;Lock&quot;
            type=&quot;password&quot;
            placeholder=&quot;请输入密码&quot;
          &gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item class=&quot;flex&quot;&gt;
          &lt;div class=&quot;flex&quot;&gt;
            &lt;el-checkbox&gt;记住我&lt;/el-checkbox&gt;
            &lt;el-link type=&quot;primary&quot; :underline=&quot;false&quot;&gt;忘记密码？&lt;/el-link&gt;
          &lt;/div&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-button class=&quot;button&quot; type=&quot;primary&quot; auto-insert-space
            &gt;登录&lt;/el-button
          &gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item class=&quot;flex&quot;&gt;
          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = true&quot;&gt;
            注册 →
          &lt;/el-link&gt;
        &lt;/el-form-item&gt;
      &lt;/el-form&gt;
    &lt;/el-col&gt;
  &lt;/el-row&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.login-page &#123;
  height: 100vh;
  background-color: #fff;
  .bg &#123;
    background: url(&#39;@/assets/logo2.png&#39;) no-repeat 60% center / 240px auto,
      url(&#39;@/assets/login_bg.jpg&#39;) no-repeat center / cover;
    border-radius: 0 20px 20px 0;
  &#125;
  .form &#123;
    display: flex;
    flex-direction: column;
    justify-content: center;
    user-select: none;
    .title &#123;
      margin: 0 auto;
    &#125;
    .button &#123;
      width: 100%;
    &#125;
    .flex &#123;
      width: 100%;
      display: flex;
      justify-content: space-between;
    &#125;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
<h2 id="注册功能"><a href="#注册功能" class="headerlink" title="注册功能"></a>注册功能</h2><h3 id="实现注册校验"><a href="#实现注册校验" class="headerlink" title="实现注册校验"></a>实现注册校验</h3><p>【需求】注册页面基本校验</p>
<ol>
<li>用户名非空，长度校验5-10位</li>
<li>密码非空，长度校验6-15位</li>
<li>再次输入密码，非空，长度校验6-15位</li>
</ol>
<p>【进阶】再次输入密码需要自定义校验规则，和密码框值一致（可选）</p>
<p>注意：</p>
<ol>
<li>model 属性绑定 form 数据对象</li>
</ol>
<pre><code class="jsx">const formModel = ref(&#123;
  username: &#39;&#39;,
  password: &#39;&#39;,
  repassword: &#39;&#39;
&#125;)

&lt;el-form :model=&quot;formModel&quot; &gt;
</code></pre>
<ol start="2">
<li>v-model 绑定 form 数据对象的子属性</li>
</ol>
<pre><code class="jsx">&lt;el-input
  v-model=&quot;formModel.username&quot;
  :prefix-icon=&quot;User&quot;
  placeholder=&quot;请输入用户名&quot;
&gt;&lt;/el-input&gt;
... 
(其他两个也要绑定)
</code></pre>
<ol start="3">
<li>rules 配置校验规则</li>
</ol>
<pre><code class="jsx">&lt;el-form :rules=&quot;rules&quot; &gt;
    
const rules = &#123;
  username: [
    &#123; required: true, message: &#39;请输入用户名&#39;, trigger: &#39;blur&#39; &#125;,
    &#123; min: 5, max: 10, message: &#39;用户名必须是5-10位的字符&#39;, trigger: &#39;blur&#39; &#125;
  ],
  password: [
    &#123; required: true, message: &#39;请输入密码&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;6,15&#125;$/,
      message: &#39;密码必须是6-15位的非空字符&#39;,
      trigger: &#39;blur&#39;
    &#125;
  ],
  repassword: [
    &#123; required: true, message: &#39;请再次输入密码&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;6,15&#125;$/,
      message: &#39;密码必须是6-15的非空字符&#39;,
      trigger: &#39;blur&#39;
    &#125;,
    &#123;
      validator: (rule, value, callback) =&gt; &#123;
        if (value !== formModel.value.password) &#123;
          callback(new Error(&#39;两次输入密码不一致!&#39;))
        &#125; else &#123;
          callback()
        &#125;
      &#125;,
      trigger: &#39;blur&#39;
    &#125;
  ]
&#125;
</code></pre>
<ol start="4">
<li>prop 绑定校验规则</li>
</ol>
<pre><code class="jsx">&lt;el-form-item prop=&quot;username&quot;&gt;
  &lt;el-input
    v-model=&quot;formModel.username&quot;
    :prefix-icon=&quot;User&quot;
    placeholder=&quot;请输入用户名&quot;
  &gt;&lt;/el-input&gt;
&lt;/el-form-item&gt;
... 
(其他两个也要绑定prop)
</code></pre>
<h3 id="注册前的预校验"><a href="#注册前的预校验" class="headerlink" title="注册前的预校验"></a>注册前的预校验</h3><p>需求：点击注册按钮，注册之前，需要先校验</p>
<ol>
<li>通过 ref 获取到 表单组件</li>
</ol>
<pre><code class="jsx">const form = ref()

&lt;el-form ref=&quot;form&quot;&gt;
</code></pre>
<ol start="2">
<li>注册之前进行校验</li>
</ol>
<pre><code class="jsx">&lt;el-button
  @click=&quot;register&quot;
  class=&quot;button&quot;
  type=&quot;primary&quot;
  auto-insert-space
&gt;
  注册
&lt;/el-button&gt;

const register = async () =&gt; &#123;
  await form.value.validate()
  console.log(&#39;开始注册请求&#39;)
&#125;
</code></pre>
<h3 id="封装-api-实现注册功能"><a href="#封装-api-实现注册功能" class="headerlink" title="封装 api 实现注册功能"></a>封装 api 实现注册功能</h3><p>需求：封装注册api，进行注册，注册成功切换到登录</p>
<ol>
<li>新建 api&#x2F;user.js 封装</li>
</ol>
<pre><code class="jsx">import request from &#39;@/utils/request&#39;

export const userRegisterService = (&#123; username, password, repassword &#125;) =&gt;
  request.post(&#39;/api/reg&#39;, &#123; username, password, repassword &#125;)
</code></pre>
<ol start="2">
<li>页面中调用</li>
</ol>
<pre><code class="jsx">const register = async () =&gt; &#123;
  await form.value.validate()
  await userRegisterService(formModel.value)
  ElMessage.success(&#39;注册成功&#39;)
  // 切换到登录
  isRegister.value = false
&#125;
</code></pre>
<ol start="3">
<li>eslintrc 中声明全局变量名,  解决 ElMessage 报错问题</li>
</ol>
<pre><code class="jsx">module.exports = &#123;
  ...
  globals: &#123;
    ElMessage: &#39;readonly&#39;,
    ElMessageBox: &#39;readonly&#39;,
    ElLoading: &#39;readonly&#39;
  &#125;
&#125;
</code></pre>
<h2 id="登录功能"><a href="#登录功能" class="headerlink" title="登录功能"></a>登录功能</h2><h3 id="实现登录校验"><a href="#实现登录校验" class="headerlink" title="实现登录校验"></a>实现登录校验</h3><p>【需求说明】给输入框添加表单校验</p>
<ol>
<li>用户名不能为空，用户名必须是5-10位的字符，失去焦点 和 修改内容时触发校验</li>
<li>密码不能为空，密码必须是6-15位的字符，失去焦点 和 修改内容时触发校验</li>
</ol>
<p>操作步骤：</p>
<ol>
<li>model 属性绑定 form 数据对象，直接绑定之前提供好的数据对象即可</li>
</ol>
<pre><code class="jsx">&lt;el-form :model=&quot;formModel&quot; &gt;
</code></pre>
<ol start="2">
<li>rules 配置校验规则，共用注册的规则即可</li>
</ol>
<pre><code class="jsx">&lt;el-form :rules=&quot;rules&quot; &gt;
</code></pre>
<ol start="3">
<li>v-model 绑定 form 数据对象的子属性</li>
</ol>
<pre><code class="jsx">&lt;el-input
  v-model=&quot;formModel.username&quot;
  :prefix-icon=&quot;User&quot;
  placeholder=&quot;请输入用户名&quot;
&gt;&lt;/el-input&gt;

&lt;el-input
  v-model=&quot;formModel.password&quot;
  name=&quot;password&quot;
  :prefix-icon=&quot;Lock&quot;
  type=&quot;password&quot;
  placeholder=&quot;请输入密码&quot;
&gt;&lt;/el-input&gt;
</code></pre>
<ol start="4">
<li>prop 绑定校验规则</li>
</ol>
<pre><code class="jsx">&lt;el-form-item prop=&quot;username&quot;&gt;
  &lt;el-input
    v-model=&quot;formModel.username&quot;
    :prefix-icon=&quot;User&quot;
    placeholder=&quot;请输入用户名&quot;
  &gt;&lt;/el-input&gt;
&lt;/el-form-item&gt;
... 
</code></pre>
<ol start="5">
<li>切换的时候重置</li>
</ol>
<pre><code class="jsx">watch(isRegister, () =&gt; &#123;
  formModel.value = &#123;
    username: &#39;&#39;,
    password: &#39;&#39;,
    repassword: &#39;&#39;
  &#125;
&#125;)
</code></pre>
<h3 id="登录前的预校验-amp-登录成功"><a href="#登录前的预校验-amp-登录成功" class="headerlink" title="登录前的预校验 &amp; 登录成功"></a>登录前的预校验 &amp; 登录成功</h3><p>【需求说明1】登录之前的预校验</p>
<ul>
<li>登录请求之前，需要对用户的输入内容，进行校验</li>
<li>校验通过才发送请求</li>
</ul>
<p>【需求说明2】<strong>登录功能</strong></p>
<ol>
<li>封装登录API，点击按钮发送登录请求</li>
<li>登录成功存储token，存入pinia 和 持久化本地storage</li>
<li>跳转到首页，给提示</li>
</ol>
<p>【测试账号】</p>
<ul>
<li><p>登录的测试账号:  shuaipeng</p>
</li>
<li><p>登录测试密码:  123456</p>
</li>
</ul>
<p>PS: 每天账号会重置，如果被重置了，可以去注册页，注册一个新号</p>
<p>实现步骤：</p>
<ol>
<li>注册事件，进行登录前的预校验 (获取到组件调用方法)</li>
</ol>
<pre><code class="jsx">&lt;el-form ref=&quot;form&quot;&gt;
    
const login = async () =&gt; &#123;
  await form.value.validate()
  console.log(&#39;开始登录&#39;)
&#125;
</code></pre>
<ol start="2">
<li>封装接口 API</li>
</ol>
<pre><code class="jsx">export const userLoginService = (&#123; username, password &#125;) =&gt;
  request.post(&#39;api/login&#39;, &#123; username, password &#125;)
</code></pre>
<ol start="3">
<li>调用方法将 token 存入 pinia 并 自动持久化本地</li>
</ol>
<pre><code class="jsx">const userStore = useUserStore()
const router = useRouter()
const login = async () =&gt; &#123;
  await form.value.validate()
  const res = await userLoginService(formModel.value)
  userStore.setToken(res.data.token)
  ElMessage.success(&#39;登录成功&#39;)
  router.push(&#39;/&#39;)
&#125;
</code></pre>
<h1 id="首页-layout-架子-element-plus-菜单"><a href="#首页-layout-架子-element-plus-菜单" class="headerlink" title="首页 layout 架子 [element-plus 菜单]"></a>首页 layout 架子 [element-plus 菜单]</h1><h2 id="基本架子拆解"><a href="#基本架子拆解" class="headerlink" title="基本架子拆解"></a>基本架子拆解</h2><p><strong>架子组件列表：</strong></p>
<p>el-container</p>
<ul>
<li><p>el-aside 左侧</p>
<ul>
<li>el-menu 左侧边栏菜单</li>
</ul>
</li>
<li><p>el-container  右侧</p>
<ul>
<li>el-header  右侧头部<ul>
<li>el-dropdown</li>
</ul>
</li>
<li>el-main  右侧主体<ul>
<li>router-view</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="jsx">&lt;script setup&gt;
import &#123;
  Management,
  Promotion,
  UserFilled,
  User,
  Crop,
  EditPen,
  SwitchButton,
  CaretBottom
&#125; from &#39;@element-plus/icons-vue&#39;
import avatar from &#39;@/assets/default.png&#39;
&lt;/script&gt;

&lt;template&gt;
  &lt;el-container class=&quot;layout-container&quot;&gt;
    &lt;el-aside width=&quot;200px&quot;&gt;
      &lt;div class=&quot;el-aside__logo&quot;&gt;&lt;/div&gt;
      &lt;el-menu
        active-text-color=&quot;#ffd04b&quot;
        background-color=&quot;#232323&quot;
        :default-active=&quot;$route.path&quot;
        text-color=&quot;#fff&quot;
        router
      &gt;
        &lt;el-menu-item index=&quot;/article/channel&quot;&gt;
          &lt;el-icon&gt;&lt;Management /&gt;&lt;/el-icon&gt;
          &lt;span&gt;文章分类&lt;/span&gt;
        &lt;/el-menu-item&gt;
        &lt;el-menu-item index=&quot;/article/manage&quot;&gt;
          &lt;el-icon&gt;&lt;Promotion /&gt;&lt;/el-icon&gt;
          &lt;span&gt;文章管理&lt;/span&gt;
        &lt;/el-menu-item&gt;
        &lt;el-sub-menu index=&quot;/user&quot;&gt;
          &lt;template #title&gt;
            &lt;el-icon&gt;&lt;UserFilled /&gt;&lt;/el-icon&gt;
            &lt;span&gt;个人中心&lt;/span&gt;
          &lt;/template&gt;
          &lt;el-menu-item index=&quot;/user/profile&quot;&gt;
            &lt;el-icon&gt;&lt;User /&gt;&lt;/el-icon&gt;
            &lt;span&gt;基本资料&lt;/span&gt;
          &lt;/el-menu-item&gt;
          &lt;el-menu-item index=&quot;/user/avatar&quot;&gt;
            &lt;el-icon&gt;&lt;Crop /&gt;&lt;/el-icon&gt;
            &lt;span&gt;更换头像&lt;/span&gt;
          &lt;/el-menu-item&gt;
          &lt;el-menu-item index=&quot;/user/password&quot;&gt;
            &lt;el-icon&gt;&lt;EditPen /&gt;&lt;/el-icon&gt;
            &lt;span&gt;重置密码&lt;/span&gt;
          &lt;/el-menu-item&gt;
        &lt;/el-sub-menu&gt;
      &lt;/el-menu&gt;
    &lt;/el-aside&gt;
    &lt;el-container&gt;
      &lt;el-header&gt;
        &lt;div&gt;黑马程序员：&lt;strong&gt;小帅鹏&lt;/strong&gt;&lt;/div&gt;
        &lt;el-dropdown placement=&quot;bottom-end&quot;&gt;
          &lt;span class=&quot;el-dropdown__box&quot;&gt;
            &lt;el-avatar :src=&quot;avatar&quot; /&gt;
            &lt;el-icon&gt;&lt;CaretBottom /&gt;&lt;/el-icon&gt;
          &lt;/span&gt;
          &lt;template #dropdown&gt;
            &lt;el-dropdown-menu&gt;
              &lt;el-dropdown-item command=&quot;profile&quot; :icon=&quot;User&quot;
                &gt;基本资料&lt;/el-dropdown-item
              &gt;
              &lt;el-dropdown-item command=&quot;avatar&quot; :icon=&quot;Crop&quot;
                &gt;更换头像&lt;/el-dropdown-item
              &gt;
              &lt;el-dropdown-item command=&quot;password&quot; :icon=&quot;EditPen&quot;
                &gt;重置密码&lt;/el-dropdown-item
              &gt;
              &lt;el-dropdown-item command=&quot;logout&quot; :icon=&quot;SwitchButton&quot;
                &gt;退出登录&lt;/el-dropdown-item
              &gt;
            &lt;/el-dropdown-menu&gt;
          &lt;/template&gt;
        &lt;/el-dropdown&gt;
      &lt;/el-header&gt;
      &lt;el-main&gt;
        &lt;router-view&gt;&lt;/router-view&gt;
      &lt;/el-main&gt;
      &lt;el-footer&gt;大事件 ©2023 Created by 黑马程序员&lt;/el-footer&gt;
    &lt;/el-container&gt;
  &lt;/el-container&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.layout-container &#123;
  height: 100vh;
  .el-aside &#123;
    background-color: #232323;
    &amp;__logo &#123;
      height: 120px;
      background: url(&#39;@/assets/logo.png&#39;) no-repeat center / 120px auto;
    &#125;
    .el-menu &#123;
      border-right: none;
    &#125;
  &#125;
  .el-header &#123;
    background-color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    .el-dropdown__box &#123;
      display: flex;
      align-items: center;
      .el-icon &#123;
        color: #999;
        margin-left: 10px;
      &#125;

      &amp;:active,
      &amp;:focus &#123;
        outline: none;
      &#125;
    &#125;
  &#125;
  .el-footer &#123;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: #666;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
<h2 id="登录访问拦截"><a href="#登录访问拦截" class="headerlink" title="登录访问拦截"></a>登录访问拦截</h2><p>需求：只有登录页，可以未授权的时候访问，其他所有页面，都需要先登录再访问</p>
<pre><code class="jsx">// 登录访问拦截
router.beforeEach((to) =&gt; &#123;
  const userStore = useUserStore()
  if (!userStore.token &amp;&amp; to.path !== &#39;/login&#39;) return &#39;/login&#39;
&#125;)
</code></pre>
<h2 id="用户基本信息获取-amp-渲染"><a href="#用户基本信息获取-amp-渲染" class="headerlink" title="用户基本信息获取&amp;渲染"></a>用户基本信息获取&amp;渲染</h2><ol>
<li><code>api/user.js</code>封装接口</li>
</ol>
<pre><code class="jsx">export const userGetInfoService = () =&gt; request.get(&#39;/my/userinfo&#39;)
</code></pre>
<ol start="2">
<li>stores&#x2F;modules&#x2F;user.js 定义数据</li>
</ol>
<pre><code class="jsx">const user = ref(&#123;&#125;)
const getUser = async () =&gt; &#123;
  const res = await userGetInfoService() // 请求获取数据
  user.value = res.data.data
&#125;
</code></pre>
<ol start="3">
<li><code>layout/LayoutContainer</code>页面中调用</li>
</ol>
<pre><code class="js">import &#123; useUserStore &#125; from &#39;@/stores&#39;
const userStore = useUserStore()
onMounted(() =&gt; &#123;
  userStore.getUser()
&#125;)
</code></pre>
<ol start="4">
<li>动态渲染</li>
</ol>
<pre><code class="jsx">&lt;div&gt;
  黑马程序员：&lt;strong&gt;&#123;&#123; userStore.user.nickname || userStore.user.username &#125;&#125;&lt;/strong&gt;
&lt;/div&gt;

&lt;el-avatar :src=&quot;userStore.user.user_pic || avatar&quot; /&gt;
</code></pre>
<h2 id="退出功能-element-plus-确认框"><a href="#退出功能-element-plus-确认框" class="headerlink" title="退出功能 [element-plus 确认框]"></a>退出功能 [element-plus 确认框]</h2><ol>
<li>注册点击事件</li>
</ol>
<pre><code class="jsx">&lt;el-dropdown placement=&quot;bottom-end&quot; @command=&quot;onCommand&quot;&gt;

&lt;el-dropdown-menu&gt;
  &lt;el-dropdown-item command=&quot;profile&quot; :icon=&quot;User&quot;&gt;基本资料&lt;/el-dropdown-item&gt;
  &lt;el-dropdown-item command=&quot;avatar&quot; :icon=&quot;Crop&quot;&gt;更换头像&lt;/el-dropdown-item&gt;
  &lt;el-dropdown-item command=&quot;password&quot; :icon=&quot;EditPen&quot;&gt;重置密码&lt;/el-dropdown-item&gt;
  &lt;el-dropdown-item command=&quot;logout&quot; :icon=&quot;SwitchButton&quot;&gt;退出登录&lt;/el-dropdown-item&gt;
&lt;/el-dropdown-menu&gt;
</code></pre>
<ol start="2">
<li>添加退出功能</li>
</ol>
<pre><code class="jsx">const onCommand = async (command) =&gt; &#123;
  if (command === &#39;logout&#39;) &#123;
    await ElMessageBox.confirm(&#39;你确认退出大事件吗？&#39;, &#39;温馨提示&#39;, &#123;
      type: &#39;warning&#39;,
      confirmButtonText: &#39;确认&#39;,
      cancelButtonText: &#39;取消&#39;
    &#125;)
    userStore.removeToken()
    userStore.setUser(&#123;&#125;)
    router.push(`/login`)
  &#125; else &#123;
    router.push(`/user/$&#123;command&#125;`)
  &#125;
&#125;
</code></pre>
<ol start="3">
<li>pinia  user.js 模块 提供 setUser 方法</li>
</ol>
<pre><code class="jsx">const setUser = (obj) =&gt; (user.value = obj)
</code></pre>
<h1 id="文章分类页面-element-plus-表格"><a href="#文章分类页面-element-plus-表格" class="headerlink" title="文章分类页面 - [element-plus 表格]"></a>文章分类页面 - [element-plus 表格]</h1><h2 id="基本架子-PageContainer"><a href="#基本架子-PageContainer" class="headerlink" title="基本架子 - PageContainer"></a>基本架子 - PageContainer</h2><ol>
<li>基本结构样式，用到了 el-card 组件</li>
</ol>
<pre><code class="jsx">&lt;template&gt;
  &lt;el-card class=&quot;page-container&quot;&gt;
    &lt;template #header&gt;
      &lt;div class=&quot;header&quot;&gt;
        &lt;span&gt;文章分类&lt;/span&gt;
        &lt;div class=&quot;extra&quot;&gt;
          &lt;el-button type=&quot;primary&quot;&gt;添加分类&lt;/el-button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/template&gt;
     ...
  &lt;/el-card&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.page-container &#123;
  min-height: 100%;
  box-sizing: border-box;
  .header &#123;
    display: flex;
    align-items: center;
    justify-content: space-between;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
<ol start="2">
<li>考虑到多个页面复用，封装成组件<ul>
<li>props 定制标题</li>
<li>默认插槽 default 定制内容主体</li>
<li>具名插槽 extra  定制头部右侧额外的按钮</li>
</ul>
</li>
</ol>
<pre><code class="jsx">&lt;script setup&gt;
defineProps(&#123;
  title: &#123;
    required: true,
    type: String
  &#125;
&#125;)
&lt;/script&gt;

&lt;template&gt;
  &lt;el-card class=&quot;page-container&quot;&gt;
    &lt;template #header&gt;
      &lt;div class=&quot;header&quot;&gt;
        &lt;span&gt;&#123;&#123; title &#125;&#125;&lt;/span&gt;
        &lt;div class=&quot;extra&quot;&gt;
          &lt;slot name=&quot;extra&quot;&gt;&lt;/slot&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/template&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/el-card&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.page-container &#123;
  min-height: 100%;
  box-sizing: border-box;
  .header &#123;
    display: flex;
    align-items: center;
    justify-content: space-between;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
<ol start="3">
<li>页面中直接使用测试 ( unplugin-vue-components 会自动注册)</li>
</ol>
<ul>
<li>文章分类测试：</li>
</ul>
<pre><code class="jsx">&lt;template&gt;
  &lt;page-container title=&quot;文章分类&quot;&gt;
    &lt;template #extra&gt;
      &lt;el-button type=&quot;primary&quot;&gt; 添加分类 &lt;/el-button&gt;
    &lt;/template&gt;

    主体部分
  &lt;/page-container&gt;
&lt;/template&gt;
</code></pre>
<ul>
<li>文章管理测试：</li>
</ul>
<pre><code class="jsx">&lt;template&gt;
  &lt;page-container title=&quot;文章管理&quot;&gt;
    &lt;template #extra&gt;
      &lt;el-button type=&quot;primary&quot;&gt;发布文章&lt;/el-button&gt;
    &lt;/template&gt;

    主体部分
  &lt;/page-container&gt;
&lt;/template&gt;
</code></pre>
<h2 id="文章分类渲染"><a href="#文章分类渲染" class="headerlink" title="文章分类渲染"></a>文章分类渲染</h2><h3 id="封装API-请求获取表格数据"><a href="#封装API-请求获取表格数据" class="headerlink" title="封装API - 请求获取表格数据"></a>封装API - 请求获取表格数据</h3><ol>
<li>新建 <code>api/article.js</code> 封装获取频道列表的接口</li>
</ol>
<pre><code class="jsx">import request from &#39;@/utils/request&#39;
export const artGetChannelsService = () =&gt; request.get(&#39;/my/cate/list&#39;)
</code></pre>
<ol start="2">
<li>页面中调用接口，获取数据存储</li>
</ol>
<pre><code class="jsx">const channelList = ref([])

const getChannelList = async () =&gt; &#123;
  const res = await artGetChannelsService()
  channelList.value = res.data.data
&#125;
</code></pre>
<h3 id="el-table-表格动态渲染"><a href="#el-table-表格动态渲染" class="headerlink" title="el-table 表格动态渲染"></a>el-table 表格动态渲染</h3><pre><code class="jsx">&lt;el-table :data=&quot;channelList&quot; style=&quot;width: 100%&quot;&gt;
  &lt;el-table-column label=&quot;序号&quot; width=&quot;100&quot; type=&quot;index&quot;&gt; &lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;分类名称&quot; prop=&quot;cate_name&quot;&gt;&lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;分类别名&quot; prop=&quot;cate_alias&quot;&gt;&lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;操作&quot; width=&quot;100&quot;&gt;
    &lt;template #default=&quot;&#123; row &#125;&quot;&gt;
      &lt;el-button
        :icon=&quot;Edit&quot;
        circle
        plain
        type=&quot;primary&quot;
        @click=&quot;onEditChannel(row)&quot;
      &gt;&lt;/el-button&gt;
      &lt;el-button
        :icon=&quot;Delete&quot;
        circle
        plain
        type=&quot;danger&quot;
        @click=&quot;onDelChannel(row)&quot;
      &gt;&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  &lt;template #empty&gt;
    &lt;el-empty description=&quot;没有数据&quot; /&gt;
  &lt;/template&gt;
&lt;/el-table&gt;


const onEditChannel = (row) =&gt; &#123;
  console.log(row)
&#125;
const onDelChannel = (row) =&gt; &#123;
  console.log(row)
&#125;
</code></pre>
<h3 id="el-table-表格-loading-效果"><a href="#el-table-表格-loading-效果" class="headerlink" title="el-table 表格 loading 效果"></a>el-table 表格 loading 效果</h3><ol>
<li>定义变量，v-loading绑定</li>
</ol>
<pre><code class="jsx">const loading = ref(false)

&lt;el-table v-loading=&quot;loading&quot;&gt;
</code></pre>
<ol start="2">
<li>发送请求前开启，请求结束关闭</li>
</ol>
<pre><code class="jsx">const getChannelList = async () =&gt; &#123;
  loading.value = true
  const res = await artGetChannelsService()
  channelList.value = res.data.data
  loading.value = false
&#125;
</code></pre>
<h2 id="文章分类添加编辑-element-plus-弹层"><a href="#文章分类添加编辑-element-plus-弹层" class="headerlink" title="文章分类添加编辑 [element-plus 弹层]"></a>文章分类添加编辑 [element-plus 弹层]</h2><h3 id="点击显示弹层"><a href="#点击显示弹层" class="headerlink" title="点击显示弹层"></a>点击显示弹层</h3><ol>
<li>准备弹层</li>
</ol>
<pre><code class="jsx">const dialogVisible = ref(false)

&lt;el-dialog v-model=&quot;dialogVisible&quot; title=&quot;添加弹层&quot; width=&quot;30%&quot;&gt;
  &lt;div&gt;我是内容部分&lt;/div&gt;
  &lt;template #footer&gt;
    &lt;span class=&quot;dialog-footer&quot;&gt;
      &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;取消&lt;/el-button&gt;
      &lt;el-button type=&quot;primary&quot;&gt; 确认 &lt;/el-button&gt;
    &lt;/span&gt;
  &lt;/template&gt;
&lt;/el-dialog&gt;
</code></pre>
<ol start="2">
<li>点击事件</li>
</ol>
<pre><code class="jsx">&lt;template #extra&gt;&lt;el-button type=&quot;primary&quot; @click=&quot;onAddChannel&quot;&gt;添加分类&lt;/el-button&gt;&lt;/template&gt;

const onAddChannel = () =&gt; &#123;
  dialogVisible.value = true
&#125;
</code></pre>
<h3 id="封装弹层组件-ChannelEdit"><a href="#封装弹层组件-ChannelEdit" class="headerlink" title="封装弹层组件 ChannelEdit"></a>封装弹层组件 ChannelEdit</h3><p>添加 和 编辑，可以共用一个弹层，所以可以将弹层封装成一个组件</p>
<p>组件对外暴露一个方法 open,  基于 open 的参数，初始化表单数据，并判断区分是添加 还是 编辑</p>
<ol>
<li>open({ })                   &#x3D;&gt;  添加操作，添加表单初始化无数据</li>
<li>open({ id: xx,  …  })  &#x3D;&gt;  编辑操作，编辑表单初始化需回显</li>
</ol>
<p>具体实现：</p>
<ol>
<li>封装组件 <code>article/components/ChannelEdit.vue</code></li>
</ol>
<pre><code class="jsx">&lt;script setup&gt;
import &#123; ref &#125; from &#39;vue&#39;
const dialogVisible = ref(false)

const open = async (row) =&gt; &#123;
  dialogVisible.value = true
  console.log(row)
&#125;

defineExpose(&#123;
  open
&#125;)
&lt;/script&gt;

&lt;template&gt;
  &lt;el-dialog v-model=&quot;dialogVisible&quot; title=&quot;添加弹层&quot; width=&quot;30%&quot;&gt;
    &lt;div&gt;我是内容部分&lt;/div&gt;
    &lt;template #footer&gt;
      &lt;span class=&quot;dialog-footer&quot;&gt;
        &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;取消&lt;/el-button&gt;
        &lt;el-button type=&quot;primary&quot;&gt; 确认 &lt;/el-button&gt;
      &lt;/span&gt;
    &lt;/template&gt;
  &lt;/el-dialog&gt;
&lt;/template&gt;
</code></pre>
<ol start="2">
<li>通过 ref 绑定</li>
</ol>
<pre><code class="jsx">const dialog = ref()

&lt;!-- 弹窗 --&gt;
&lt;channel-edit ref=&quot;dialog&quot;&gt;&lt;/channel-edit&gt;
</code></pre>
<ol start="3">
<li>点击调用方法显示弹窗</li>
</ol>
<pre><code class="jsx">const onAddChannel = () =&gt; &#123;
  dialog.value.open(&#123;&#125;)
&#125;
const onEditChannel = (row) =&gt; &#123;
  dialog.value.open(row)
&#125;
</code></pre>
<h3 id="准备弹层表单"><a href="#准备弹层表单" class="headerlink" title="准备弹层表单"></a>准备弹层表单</h3><ol>
<li>准备数据 和 校验规则</li>
</ol>
<pre><code class="jsx">const formModel = ref(&#123;
  cate_name: &#39;&#39;,
  cate_alias: &#39;&#39;
&#125;)
const rules = &#123;
  cate_name: [
    &#123; required: true, message: &#39;请输入分类名称&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;1,10&#125;$/,
      message: &#39;分类名必须是1-10位的非空字符&#39;,
      trigger: &#39;blur&#39;
    &#125;
  ],
  cate_alias: [
    &#123; required: true, message: &#39;请输入分类别名&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^[a-zA-Z0-9]&#123;1,15&#125;$/,
      message: &#39;分类别名必须是1-15位的字母数字&#39;,
      trigger: &#39;blur&#39;
    &#125;
  ]
&#125;
</code></pre>
<ol start="2">
<li>准备表单</li>
</ol>
<pre><code class="jsx">&lt;el-form
  :model=&quot;formModel&quot;
  :rules=&quot;rules&quot;
  label-width=&quot;100px&quot;
  style=&quot;padding-right: 30px&quot;
&gt;
  &lt;el-form-item label=&quot;分类名称&quot; prop=&quot;cate_name&quot;&gt;
    &lt;el-input
      v-model=&quot;formModel.cate_name&quot;
      minlength=&quot;1&quot;
      maxlength=&quot;10&quot;
    &gt;&lt;/el-input&gt;
  &lt;/el-form-item&gt;
  &lt;el-form-item label=&quot;分类别名&quot; prop=&quot;cate_alias&quot;&gt;
    &lt;el-input
      v-model=&quot;formModel.cate_alias&quot;
      minlength=&quot;1&quot;
      maxlength=&quot;15&quot;
    &gt;&lt;/el-input&gt;
  &lt;/el-form-item&gt;
&lt;/el-form&gt;
</code></pre>
<ol start="3">
<li>编辑需要回显，表单数据需要初始化</li>
</ol>
<pre><code class="jsx">const open = async (row) =&gt; &#123;
  dialogVisible.value = true
  formModel.value = &#123; ...row &#125;
&#125;
</code></pre>
<ol start="4">
<li>基于传过来的表单数据，进行标题控制，有 id 的是编辑</li>
</ol>
<pre><code class="jsx">:title=&quot;formModel.id ? &#39;编辑分类&#39; : &#39;添加分类&#39;&quot;
</code></pre>
<h3 id="确认提交"><a href="#确认提交" class="headerlink" title="确认提交"></a>确认提交</h3><ol>
<li><code>api/article.js  </code>  封装请求 API</li>
</ol>
<pre><code class="jsx">// 添加文章分类
export const artAddChannelService = (data) =&gt; request.post(&#39;/my/cate/add&#39;, data)
// 编辑文章分类
export const artEditChannelService = (data) =&gt;
  request.put(&#39;/my/cate/info&#39;, data)
</code></pre>
<ol start="2">
<li>页面中校验，判断，提交请求</li>
</ol>
<pre><code class="jsx">&lt;el-form ref=&quot;formRef&quot;&gt;
</code></pre>
<pre><code class="jsx">const formRef = ref()
const onSubmit = async () =&gt; &#123;
  await formRef.value.validate()
  formModel.value.id
    ? await artEditChannelService(formModel.value)
    : await artAddChannelService(formModel.value)
  ElMessage(&#123;
    type: &#39;success&#39;,
    message: formModel.value.id ? &#39;编辑成功&#39; : &#39;添加成功&#39;
  &#125;)
  dialogVisible.value = false
&#125;
</code></pre>
<ol start="3">
<li>通知父组件进行回显</li>
</ol>
<pre><code class="jsx">const emit = defineEmits([&#39;success&#39;])

const onSubmit = async () =&gt; &#123;
  ...
  emit(&#39;success&#39;)
&#125;
</code></pre>
<ol start="4">
<li>父组件监听 success 事件，进行调用回显</li>
</ol>
<pre><code class="jsx">&lt;channel-edit ref=&quot;dialog&quot; @success=&quot;onSuccess&quot;&gt;&lt;/channel-edit&gt;

const onSuccess = () =&gt; &#123;
  getChannelList()
&#125;
</code></pre>
<h2 id="文章分类删除"><a href="#文章分类删除" class="headerlink" title="文章分类删除"></a>文章分类删除</h2><ol>
<li><code>api/article.js</code>封装接口 api</li>
</ol>
<pre><code class="jsx">// 删除文章分类
export const artDelChannelService = (id) =&gt;
  request.delete(&#39;/my/cate/del&#39;, &#123;
    params: &#123; id &#125;
  &#125;)
</code></pre>
<ol start="2">
<li>页面中添加确认框，调用接口进行提示</li>
</ol>
<pre><code class="jsx">const onDelChannel = async (row) =&gt; &#123;
  await ElMessageBox.confirm(&#39;你确认删除该分类信息吗？&#39;, &#39;温馨提示&#39;, &#123;
    type: &#39;warning&#39;,
    confirmButtonText: &#39;确认&#39;,
    cancelButtonText: &#39;取消&#39;
  &#125;)
  await artDelChannelService(row.id)
  ElMessage(&#123; type: &#39;success&#39;, message: &#39;删除成功&#39; &#125;)
  getChannelList()
&#125;
</code></pre>
<h1 id="文章管理页面-element-plus-强化"><a href="#文章管理页面-element-plus-强化" class="headerlink" title="文章管理页面 - [element-plus 强化]"></a>文章管理页面 - [element-plus 强化]</h1><h2 id="文章列表渲染"><a href="#文章列表渲染" class="headerlink" title="文章列表渲染"></a>文章列表渲染</h2><h3 id="基本架子搭建"><a href="#基本架子搭建" class="headerlink" title="基本架子搭建"></a>基本架子搭建</h3><p><img src="/assets/image-20230724224754131.png" alt="image-20230724224754131"></p>
<ol>
<li>搜索表单</li>
</ol>
<pre><code class="jsx">&lt;el-form inline&gt;
  &lt;el-form-item label=&quot;文章分类：&quot;&gt;
    &lt;el-select&gt;
      &lt;el-option label=&quot;新闻&quot; value=&quot;111&quot;&gt;&lt;/el-option&gt;
      &lt;el-option label=&quot;体育&quot; value=&quot;222&quot;&gt;&lt;/el-option&gt;
    &lt;/el-select&gt;
  &lt;/el-form-item&gt;
  &lt;el-form-item label=&quot;发布状态：&quot;&gt;
    &lt;el-select&gt;
      &lt;el-option label=&quot;已发布&quot; value=&quot;已发布&quot;&gt;&lt;/el-option&gt;
      &lt;el-option label=&quot;草稿&quot; value=&quot;草稿&quot;&gt;&lt;/el-option&gt;
    &lt;/el-select&gt;
  &lt;/el-form-item&gt;
  &lt;el-form-item&gt;
    &lt;el-button type=&quot;primary&quot;&gt;搜索&lt;/el-button&gt;
    &lt;el-button&gt;重置&lt;/el-button&gt;
  &lt;/el-form-item&gt;
&lt;/el-form&gt;
</code></pre>
<ol start="2">
<li>表格准备，模拟假数据渲染</li>
</ol>
<pre><code class="jsx">import &#123; Delete, Edit &#125; from &#39;@element-plus/icons-vue&#39;
import &#123; ref &#125; from &#39;vue&#39;
// 假数据
const articleList = ref([
  &#123;
    id: 5961,
    title: &#39;新的文章啊&#39;,
    pub_date: &#39;2022-07-10 14:53:52.604&#39;,
    state: &#39;已发布&#39;,
    cate_name: &#39;体育&#39;
  &#125;,
  &#123;
    id: 5962,
    title: &#39;新的文章啊&#39;,
    pub_date: &#39;2022-07-10 14:54:30.904&#39;,
    state: null,
    cate_name: &#39;体育&#39;
  &#125;
])
</code></pre>
<pre><code class="jsx">&lt;el-table :data=&quot;articleList&quot; style=&quot;width: 100%&quot;&gt;
  &lt;el-table-column label=&quot;文章标题&quot; width=&quot;400&quot;&gt;
    &lt;template #default=&quot;&#123; row &#125;&quot;&gt;
      &lt;el-link type=&quot;primary&quot; :underline=&quot;false&quot;&gt;&#123;&#123; row.title &#125;&#125;&lt;/el-link&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;分类&quot; prop=&quot;cate_name&quot;&gt;&lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;发表时间&quot; prop=&quot;pub_date&quot;&gt; &lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;状态&quot; prop=&quot;state&quot;&gt;&lt;/el-table-column&gt;
  &lt;el-table-column label=&quot;操作&quot; width=&quot;100&quot;&gt;
    &lt;template #default=&quot;&#123; row &#125;&quot;&gt;
      &lt;el-button
        :icon=&quot;Edit&quot;
        circle
        plain
        type=&quot;primary&quot;
        @click=&quot;onEditArticle(row)&quot;
      &gt;&lt;/el-button&gt;
      &lt;el-button
        :icon=&quot;Delete&quot;
        circle
        plain
        type=&quot;danger&quot;
        @click=&quot;onDeleteArticle(row)&quot;
      &gt;&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  &lt;template #empty&gt;
    &lt;el-empty description=&quot;没有数据&quot; /&gt;
  &lt;/template&gt;
&lt;/el-table&gt;


const onEditArticle = (row) =&gt; &#123;
  console.log(row)
&#125;
const onDeleteArticle = (row) =&gt; &#123;
  console.log(row)
&#125;
</code></pre>
<h3 id="中英国际化处理"><a href="#中英国际化处理" class="headerlink" title="中英国际化处理"></a>中英国际化处理</h3><p>默认是英文的，由于这里不涉及切换， 所以在 App.vue 中直接导入设置成中文即可，</p>
<pre><code class="jsx">&lt;script setup&gt;
import zh from &#39;element-plus/es/locale/lang/zh-cn.mjs&#39;
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- 国际化处理 --&gt;
  &lt;el-config-provider :locale=&quot;zh&quot;&gt;
    &lt;router-view /&gt;
  &lt;/el-config-provider&gt;
&lt;/template&gt;
</code></pre>
<h3 id="文章分类选择"><a href="#文章分类选择" class="headerlink" title="文章分类选择"></a>文章分类选择</h3><p>为了便于维护，直接拆分成一个小组件 ChannelSelect.vue</p>
<ol>
<li>新建 article&#x2F;components&#x2F;ChannelSelect.vue</li>
</ol>
<pre><code class="jsx">&lt;template&gt;
  &lt;el-select&gt;
    &lt;el-option label=&quot;新闻&quot; value=&quot;新闻&quot;&gt;&lt;/el-option&gt;
    &lt;el-option label=&quot;体育&quot; value=&quot;体育&quot;&gt;&lt;/el-option&gt;
  &lt;/el-select&gt;
&lt;/template&gt;
</code></pre>
<ol start="2">
<li>页面中导入渲染</li>
</ol>
<pre><code class="vue">import ChannelSelect from &#39;./components/ChannelSelect.vue&#39;

&lt;el-form-item label=&quot;文章分类：&quot;&gt;
  &lt;channel-select&gt;&lt;/channel-select&gt;
&lt;/el-form-item&gt;
</code></pre>
<ol start="3">
<li>调用接口，动态渲染下拉分类，设计成 v-model 的使用方式</li>
</ol>
<pre><code class="jsx">&lt;script setup&gt;
import &#123; artGetChannelsService &#125; from &#39;@/api/article&#39;
import &#123; ref &#125; from &#39;vue&#39;

defineProps(&#123;
  modelValue: &#123;
    type: [Number, String]
  &#125;
&#125;)

const emit = defineEmits([&#39;update:modelValue&#39;])
const channelList = ref([])
const getChannelList = async () =&gt; &#123;
  const res = await artGetChannelsService()
  channelList.value = res.data.data
&#125;
getChannelList()
&lt;/script&gt;
&lt;template&gt;
  &lt;el-select
    :modelValue=&quot;modelValue&quot;
    @update:modelValue=&quot;emit(&#39;update:modelValue&#39;, $event)&quot;
  &gt;
    &lt;el-option
      v-for=&quot;channel in channelList&quot;
      :key=&quot;channel.id&quot;
      :label=&quot;channel.cate_name&quot;
      :value=&quot;channel.id&quot;
    &gt;&lt;/el-option&gt;
  &lt;/el-select&gt;
&lt;/template&gt;
</code></pre>
<ol start="4">
<li>父组件定义参数绑定</li>
</ol>
<pre><code class="jsx">const params = ref(&#123;
  pagenum: 1,
  pagesize: 5,
  cate_id: &#39;&#39;,
  state: &#39;&#39;
&#125;)

&lt;channel-select v-model=&quot;params.cate_id&quot;&gt;&lt;/channel-select&gt;
</code></pre>
<ol start="5">
<li>发布状态，也绑定一下，便于将来提交表单</li>
</ol>
<pre><code class="jsx">&lt;el-select v-model=&quot;params.state&quot;&gt;
  &lt;el-option label=&quot;已发布&quot; value=&quot;已发布&quot;&gt;&lt;/el-option&gt;
  &lt;el-option label=&quot;草稿&quot; value=&quot;草稿&quot;&gt;&lt;/el-option&gt;
&lt;/el-select&gt;
</code></pre>
<h3 id="封装-API-接口，请求渲染"><a href="#封装-API-接口，请求渲染" class="headerlink" title="封装 API 接口，请求渲染"></a>封装 API 接口，请求渲染</h3><p><strong>没有数据，可以登录已完成的系统，添加几条数据</strong></p>
<ol>
<li><code>api/article.js</code>封装接口</li>
</ol>
<pre><code class="jsx">export const artGetListService = (params) =&gt;
  request.get(&#39;/my/article/list&#39;, &#123; params &#125;)
</code></pre>
<ol start="2">
<li>页面中调用保存数据</li>
</ol>
<pre><code class="jsx">const articleList = ref([])
const total = ref(0)

const getArticleList = async () =&gt; &#123;
  const res = await artGetListService(params.value)
  articleList.value = res.data.data
  total.value = res.data.total
&#125;
getArticleList()
</code></pre>
<ol start="3">
<li>新建 <code>utils/format.js</code> 封装格式化日期函数</li>
</ol>
<pre><code class="jsx">import &#123; dayjs &#125; from &#39;element-plus&#39;

export const formatTime = (time) =&gt; dayjs(time).format(&#39;YYYY年MM月DD日&#39;)
</code></pre>
<ol start="4">
<li>导入使用</li>
</ol>
<pre><code class="vue">import &#123; formatTime &#125; from &#39;@/utils/format&#39;

&lt;el-table-column label=&quot;发表时间&quot;&gt;
  &lt;template #default=&quot;&#123; row &#125;&quot;&gt;
    &#123;&#123; formatTime(row.pub_date) &#125;&#125;
  &lt;/template&gt;
&lt;/el-table-column&gt;
</code></pre>
<h3 id="分页渲染-element-plus-分页"><a href="#分页渲染-element-plus-分页" class="headerlink" title="分页渲染 [element-plus 分页]"></a>分页渲染 [element-plus 分页]</h3><ol>
<li>分页组件</li>
</ol>
<pre><code class="jsx">&lt;el-pagination
  v-model:current-page=&quot;params.pagenum&quot;
  v-model:page-size=&quot;params.pagesize&quot;
  :page-sizes=&quot;[2, 3, 4, 5, 10]&quot;
  layout=&quot;jumper, total, sizes, prev, pager, next&quot;
  background
  :total=&quot;total&quot;
  @size-change=&quot;onSizeChange&quot;
  @current-change=&quot;onCurrentChange&quot;
  style=&quot;margin-top: 20px; justify-content: flex-end&quot;
/&gt;
</code></pre>
<ol start="2">
<li>提供分页修改逻辑</li>
</ol>
<pre><code class="jsx">const onSizeChange = (size) =&gt; &#123;
  params.value.pagenum = 1
  params.value.pagesize = size
  getArticleList()
&#125;
const onCurrentChange = (page) =&gt; &#123;
  params.value.pagenum = page
  getArticleList()
&#125;
</code></pre>
<h3 id="添加-loading-处理"><a href="#添加-loading-处理" class="headerlink" title="添加 loading 处理"></a>添加 loading 处理</h3><ol>
<li>准备数据</li>
</ol>
<pre><code class="jsx">const loading = ref(false)
</code></pre>
<ol start="2">
<li>el-table上面绑定</li>
</ol>
<pre><code class="jsx">&lt;el-table v-loading=&quot;loading&quot; &gt; ... &lt;/el-table&gt;
</code></pre>
<ol start="3">
<li>发送请求时添加 loading</li>
</ol>
<pre><code class="jsx">const getArticleList = async () =&gt; &#123;
  loading.value = true
    
  ...
  
  loading.value = false
&#125;
getArticleList()
</code></pre>
<h3 id="搜索-和-重置功能"><a href="#搜索-和-重置功能" class="headerlink" title="搜索 和 重置功能"></a>搜索 和 重置功能</h3><ol>
<li>注册事件</li>
</ol>
<pre><code class="jsx">&lt;el-form-item&gt;
  &lt;el-button @click=&quot;onSearch&quot; type=&quot;primary&quot;&gt;搜索&lt;/el-button&gt;
  &lt;el-button @click=&quot;onReset&quot;&gt;重置&lt;/el-button&gt;
&lt;/el-form-item&gt;
</code></pre>
<ol start="2">
<li>绑定处理</li>
</ol>
<pre><code class="jsx">const onSearch = () =&gt; &#123;
  params.value.pagenum = 1
  getArticleList()
&#125;

const onReset = () =&gt; &#123;
  params.value.pagenum = 1
  params.value.cate_id = &#39;&#39;
  params.value.state = &#39;&#39;
  getArticleList()
&#125;
</code></pre>
<h2 id="文章发布-amp-修改-element-plus-抽屉"><a href="#文章发布-amp-修改-element-plus-抽屉" class="headerlink" title="文章发布&amp;修改 [element-plus - 抽屉]"></a>文章发布&amp;修改 [element-plus - 抽屉]</h2><h3 id="点击显示抽屉"><a href="#点击显示抽屉" class="headerlink" title="点击显示抽屉"></a>点击显示抽屉</h3><ol>
<li>准备数据</li>
</ol>
<pre><code class="jsx">import &#123; ref &#125; from &#39;vue&#39;
const visibleDrawer = ref(false)
</code></pre>
<ol start="2">
<li>准备抽屉容器</li>
</ol>
<pre><code class="jsx">&lt;el-drawer
  v-model=&quot;visibleDrawer&quot;
  title=&quot;大标题&quot;
  direction=&quot;rtl&quot;
  size=&quot;50%&quot;
&gt;
  &lt;span&gt;Hi there!&lt;/span&gt;
&lt;/el-drawer&gt;
</code></pre>
<ol start="3">
<li>点击修改布尔值显示抽屉</li>
</ol>
<pre><code class="jsx">&lt;el-button type=&quot;primary&quot; @click=&quot;onAddArticle&quot;&gt;发布文章&lt;/el-button&gt;

const visibleDrawer = ref(false)
const onAddArticle = () =&gt; &#123;
  visibleDrawer.value = true
&#125;
</code></pre>
<h3 id="封装抽屉组件-ArticleEdit"><a href="#封装抽屉组件-ArticleEdit" class="headerlink" title="封装抽屉组件 ArticleEdit"></a>封装抽屉组件 ArticleEdit</h3><p>添加 和 编辑，可以共用一个抽屉，所以可以将抽屉封装成一个组件</p>
<p>组件对外暴露一个方法 open,  基于 open 的参数，初始化表单数据，并判断区分是添加 还是 编辑</p>
<ol>
<li>open({ })                   &#x3D;&gt;  添加操作，添加表单初始化无数据</li>
<li>open({ id: xx,  …  })  &#x3D;&gt;  编辑操作，编辑表单初始化需回显</li>
</ol>
<p>具体实现：</p>
<ol>
<li>封装组件 <code>article/components/ArticleEdit.vue</code></li>
</ol>
<pre><code class="jsx">&lt;script setup&gt;
import &#123; ref &#125; from &#39;vue&#39;
const visibleDrawer = ref(false)

const open = (row) =&gt; &#123;
  visibleDrawer.value = true
  console.log(row)
&#125;

defineExpose(&#123;
  open
&#125;)
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- 抽屉 --&gt;
  &lt;el-drawer v-model=&quot;visibleDrawer&quot; title=&quot;大标题&quot; direction=&quot;rtl&quot; size=&quot;50%&quot;&gt;
    &lt;span&gt;Hi there!&lt;/span&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;
</code></pre>
<ol start="2">
<li>通过 ref 绑定</li>
</ol>
<pre><code class="jsx">const articleEditRef = ref()

&lt;!-- 弹窗 --&gt;
&lt;article-edit ref=&quot;articleEditRef&quot;&gt;&lt;/article-edit&gt;
</code></pre>
<ol start="3">
<li>点击调用方法显示弹窗</li>
</ol>
<pre><code class="jsx">// 编辑新增逻辑
const onAddArticle = () =&gt; &#123;
  articleEditRef.value.open(&#123;&#125;)
&#125;
const onEditArticle = (row) =&gt; &#123;
  articleEditRef.value.open(row)
&#125;
</code></pre>
<h3 id="完善抽屉表单结构"><a href="#完善抽屉表单结构" class="headerlink" title="完善抽屉表单结构"></a>完善抽屉表单结构</h3><ol>
<li>准备数据</li>
</ol>
<pre><code class="jsx">const formModel = ref(&#123;
  title: &#39;&#39;,
  cate_id: &#39;&#39;,
  cover_img: &#39;&#39;,
  content: &#39;&#39;,
  state: &#39;&#39;
&#125;)

const open = async (row) =&gt; &#123;
  visibleDrawer.value = true
  if (row.id) &#123;
    console.log(&#39;编辑回显&#39;)
  &#125; else &#123;
    console.log(&#39;添加功能&#39;)
  &#125;
&#125;
</code></pre>
<ol start="2">
<li>准备 form 表单结构</li>
</ol>
<pre><code class="jsx">import ChannelSelect from &#39;./ChannelSelect.vue&#39;

&lt;template&gt;
  &lt;el-drawer
    v-model=&quot;visibleDrawer&quot;
    :title=&quot;formModel.id ? &#39;编辑文章&#39; : &#39;添加文章&#39;&quot;
    direction=&quot;rtl&quot;
    size=&quot;50%&quot;
  &gt;
    &lt;!-- 发表文章表单 --&gt;
    &lt;el-form :model=&quot;formModel&quot; ref=&quot;formRef&quot; label-width=&quot;100px&quot;&gt;
      &lt;el-form-item label=&quot;文章标题&quot; prop=&quot;title&quot;&gt;
        &lt;el-input v-model=&quot;formModel.title&quot; placeholder=&quot;请输入标题&quot;&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label=&quot;文章分类&quot; prop=&quot;cate_id&quot;&gt;
        &lt;channel-select
          v-model=&quot;formModel.cate_id&quot;
          width=&quot;100%&quot;
        &gt;&lt;/channel-select&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label=&quot;文章封面&quot; prop=&quot;cover_img&quot;&gt; 文件上传 &lt;/el-form-item&gt;
      &lt;el-form-item label=&quot;文章内容&quot; prop=&quot;content&quot;&gt;
        &lt;div class=&quot;editor&quot;&gt;富文本编辑器&lt;/div&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item&gt;
        &lt;el-button type=&quot;primary&quot;&gt;发布&lt;/el-button&gt;
        &lt;el-button type=&quot;info&quot;&gt;草稿&lt;/el-button&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;
</code></pre>
<ol start="3">
<li>一打开默认重置添加的 form 表单数据</li>
</ol>
<pre><code class="jsx">const defaultForm = &#123;
  title: &#39;&#39;,
  cate_id: &#39;&#39;,
  cover_img: &#39;&#39;,
  content: &#39;&#39;,
  state: &#39;&#39;
&#125;
const formModel = ref(&#123; ...defaultForm &#125;)

const open = async (row) =&gt; &#123;
  visibleDrawer.value = true
  if (row.id) &#123;
    console.log(&#39;编辑回显&#39;)
  &#125; else &#123;
    console.log(&#39;添加功能&#39;)
    formModel.value = &#123; ...defaultForm &#125;
  &#125;
&#125;
</code></pre>
<ol start="4">
<li>扩展 下拉菜单 width props</li>
</ol>
<pre><code class="jsx">defineProps(&#123;
  modelValue: &#123;
    type: [Number, String]
  &#125;,
  width: &#123;
    type: String
  &#125;
&#125;)

&lt;el-select
 ...
 :style=&quot;&#123; width &#125;&quot;
&gt;
</code></pre>
<h3 id="上传文件-element-plus-文件预览"><a href="#上传文件-element-plus-文件预览" class="headerlink" title="上传文件 [element-plus - 文件预览]"></a>上传文件 [element-plus - 文件预览]</h3><ol>
<li>关闭自动上传，准备结构</li>
</ol>
<pre><code class="jsx">import &#123; Plus &#125; from &#39;@element-plus/icons-vue&#39;

&lt;el-upload
  class=&quot;avatar-uploader&quot;
  :auto-upload=&quot;false&quot;
  :show-file-list=&quot;false&quot;
  :on-change=&quot;onUploadFile&quot;
&gt;
  &lt;img v-if=&quot;imgUrl&quot; :src=&quot;imgUrl&quot; class=&quot;avatar&quot; /&gt;
  &lt;el-icon v-else class=&quot;avatar-uploader-icon&quot;&gt;&lt;Plus /&gt;&lt;/el-icon&gt;
&lt;/el-upload&gt;
</code></pre>
<ol start="2">
<li>准备数据 和 选择图片的处理逻辑</li>
</ol>
<pre><code class="jsx">const imgUrl = ref(&#39;&#39;)
const onUploadFile = (uploadFile) =&gt; &#123;
  imgUrl.value = URL.createObjectURL(uploadFile.raw)
  formModel.value.cover_img = uploadFile.raw
&#125;
</code></pre>
<ol start="3">
<li>样式美化</li>
</ol>
<pre><code class="css">.avatar-uploader &#123;
  :deep() &#123;
    .avatar &#123;
      width: 178px;
      height: 178px;
      display: block;
    &#125;
    .el-upload &#123;
      border: 1px dashed var(--el-border-color);
      border-radius: 6px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: var(--el-transition-duration-fast);
    &#125;
    .el-upload:hover &#123;
      border-color: var(--el-color-primary);
    &#125;
    .el-icon.avatar-uploader-icon &#123;
      font-size: 28px;
      color: #8c939d;
      width: 178px;
      height: 178px;
      text-align: center;
    &#125;
  &#125;
&#125;
</code></pre>
<h3 id="富文本编辑器-vue-quill"><a href="#富文本编辑器-vue-quill" class="headerlink" title="富文本编辑器 [ vue-quill ]"></a>富文本编辑器 [ vue-quill ]</h3><p>官网地址：<a target="_blank" rel="noopener" href="https://vueup.github.io/vue-quill/">https://vueup.github.io/vue-quill/</a></p>
<ol>
<li>安装包</li>
</ol>
<pre><code class="js">pnpm add @vueup/vue-quill@latest
</code></pre>
<ol start="2">
<li>注册成局部组件</li>
</ol>
<pre><code class="jsx">import &#123; QuillEditor &#125; from &#39;@vueup/vue-quill&#39;
import &#39;@vueup/vue-quill/dist/vue-quill.snow.css&#39;
</code></pre>
<ol start="3">
<li>页面中使用绑定</li>
</ol>
<pre><code class="jsx">&lt;div class=&quot;editor&quot;&gt;
  &lt;quill-editor
    theme=&quot;snow&quot;
    v-model:content=&quot;formModel.content&quot;
    contentType=&quot;html&quot;
  &gt;
  &lt;/quill-editor&gt;
&lt;/div&gt;
</code></pre>
<ol start="4">
<li>样式美化</li>
</ol>
<pre><code class="jsx">.editor &#123;
  width: 100%;
  :deep(.ql-editor) &#123;
    min-height: 200px;
  &#125;
&#125;
</code></pre>
<h3 id="添加文章功能"><a href="#添加文章功能" class="headerlink" title="添加文章功能"></a>添加文章功能</h3><ol>
<li>封装添加接口</li>
</ol>
<pre><code class="jsx">export const artPublishService = (data) =&gt;
  request.post(&#39;/my/article/add&#39;, data)
</code></pre>
<ol start="2">
<li>注册点击事件调用</li>
</ol>
<pre><code class="jsx">&lt;el-form-item&gt;
  &lt;el-button @click=&quot;onPublish(&#39;已发布&#39;)&quot; type=&quot;primary&quot;&gt;发布&lt;/el-button&gt;
  &lt;el-button @click=&quot;onPublish(&#39;草稿&#39;)&quot; type=&quot;info&quot;&gt;草稿&lt;/el-button&gt;
&lt;/el-form-item&gt;

// 发布文章
const emit = defineEmits([&#39;success&#39;])
const onPublish = async (state) =&gt; &#123;
  // 将已发布还是草稿状态，存入 state
  formModel.value.state = state

  // 转换 formData 数据
  const fd = new FormData()
  for (let key in formModel.value) &#123;
    fd.append(key, formModel.value[key])
  &#125;

  if (formModel.value.id) &#123;
    console.log(&#39;编辑操作&#39;)
  &#125; else &#123;
    // 添加请求
    await artPublishService(fd)
    ElMessage.success(&#39;添加成功&#39;)
    visibleDrawer.value = false
    emit(&#39;success&#39;, &#39;add&#39;)
  &#125;
&#125;
</code></pre>
<ol start="3">
<li>父组件监听事件，重新渲染</li>
</ol>
<pre><code class="jsx">&lt;article-edit ref=&quot;articleEditRef&quot; @success=&quot;onSuccess&quot;&gt;&lt;/article-edit&gt;

// 添加修改成功
const onSuccess = (type) =&gt; &#123;
  if (type === &#39;add&#39;) &#123;
    // 如果是添加，需要跳转渲染最后一页，编辑直接渲染当前页
    const lastPage = Math.ceil((total.value + 1) / params.value.pagesize)
    params.value.pagenum = lastPage
  &#125;
  getArticleList()
&#125;
</code></pre>
<h3 id="添加完成后的内容重置"><a href="#添加完成后的内容重置" class="headerlink" title="添加完成后的内容重置"></a>添加完成后的内容重置</h3><pre><code class="jsx">const formRef = ref()
const editorRef = ref()
const open = async (row) =&gt; &#123;
  visibleDrawer.value = true
  if (row.id) &#123;
    console.log(&#39;编辑回显&#39;)
  &#125; else &#123;
    formModel.value = &#123; ...defaultForm &#125;
    imgUrl.value = &#39;&#39;
    editorRef.value.setHTML(&#39;&#39;)
  &#125;
&#125;
</code></pre>
<h3 id="编辑文章回显"><a href="#编辑文章回显" class="headerlink" title="编辑文章回显"></a>编辑文章回显</h3><p>如果是编辑操作，一打开抽屉，就需要发送请求，获取数据进行回显</p>
<ol>
<li>封装接口，根据 id 获取详情数据</li>
</ol>
<pre><code class="jsx">export const artGetDetailService = (id) =&gt;
  request.get(&#39;my/article/info&#39;, &#123; params: &#123; id &#125; &#125;)
</code></pre>
<ol start="2">
<li>页面中调用渲染</li>
</ol>
<pre><code class="jsx">const open = async (row) =&gt; &#123;
  visibleDrawer.value = true
  if (row.id) &#123;
    console.log(&#39;编辑回显&#39;)
    const res = await artGetDetailService(row.id)
    formModel.value = res.data.data
    imgUrl.value = baseURL + formModel.value.cover_img
    // 提交给后台，需要的是 file 格式的，将网络图片，转成 file 格式
    // 网络图片转成 file 对象, 需要转换一下
    formModel.value.cover_img = await imageUrlToFile(imgUrl.value, formModel.value.cover_img)
  &#125; else &#123;
    console.log(&#39;添加功能&#39;)
    ...
  &#125;
&#125;
</code></pre>
<p>chatGPT prompt：封装一个函数，基于 axios， 网络图片地址，转 file 对象， 请注意：写中文注释</p>
<pre><code class="jsx">// 将网络图片地址转换为File对象
async function imageUrlToFile(url, fileName) &#123;
  try &#123;
    // 第一步：使用axios获取网络图片数据
    const response = await axios.get(url, &#123; responseType: &#39;arraybuffer&#39; &#125;);
    const imageData = response.data;

    // 第二步：将图片数据转换为Blob对象
    const blob = new Blob([imageData], &#123; type: response.headers[&#39;content-type&#39;] &#125;);

    // 第三步：创建一个新的File对象
    const file = new File([blob], fileName, &#123; type: blob.type &#125;);

    return file;
  &#125; catch (error) &#123;
    console.error(&#39;将图片转换为File对象时发生错误:&#39;, error);
    throw error;
  &#125;
&#125;
</code></pre>
<h3 id="编辑文章功能"><a href="#编辑文章功能" class="headerlink" title="编辑文章功能"></a>编辑文章功能</h3><ol>
<li>封装编辑接口</li>
</ol>
<pre><code class="jsx">export const artEditService = (data) =&gt; request.put(&#39;my/article/info&#39;, data)
</code></pre>
<ol start="2">
<li>提交时调用</li>
</ol>
<pre><code class="jsx">const onPublish = async (state) =&gt; &#123;
  ...
  if (formModel.value.id) &#123;
    await artEditService(fd)
    ElMessage.success(&#39;编辑成功&#39;)
    visibleDrawer.value = false
    emit(&#39;success&#39;, &#39;edit&#39;)
  &#125; else &#123;
    // 添加请求
    ...
  &#125;
&#125;
</code></pre>
<h2 id="文章删除"><a href="#文章删除" class="headerlink" title="文章删除"></a>文章删除</h2><ol>
<li>封装删除接口</li>
</ol>
<pre><code class="jsx">export const artDelService = (id) =&gt; request.delete(&#39;my/article/info&#39;, &#123; params: &#123; id &#125; &#125;)
</code></pre>
<ol start="2">
<li>页面中添加确认框调用</li>
</ol>
<pre><code class="jsx">const onDeleteArticle = async (row) =&gt; &#123;
  await ElMessageBox.confirm(&#39;你确认删除该文章信息吗？&#39;, &#39;温馨提示&#39;, &#123;
    type: &#39;warning&#39;,
    confirmButtonText: &#39;确认&#39;,
    cancelButtonText: &#39;取消&#39;
  &#125;)
  await artDelService(row.id)
  ElMessage(&#123; type: &#39;success&#39;, message: &#39;删除成功&#39; &#125;)
  getArticleList()
&#125;
</code></pre>
<h1 id="ChatGPT-amp-Copilot"><a href="#ChatGPT-amp-Copilot" class="headerlink" title="ChatGPT &amp; Copilot"></a>ChatGPT &amp; Copilot</h1><h2 id="AI-的认知-amp-讲解内容说明"><a href="#AI-的认知-amp-讲解内容说明" class="headerlink" title="AI 的认知 &amp; 讲解内容说明"></a>AI 的认知 &amp; 讲解内容说明</h2><p>认知同步：</p>
<ol>
<li>AI 早已不是新事物 (接受)  &#x3D;&gt;  语音识别，人脸识别，无人驾驶，智能机器人…    (包括 ChatGPT 也是研发了多年的产物)</li>
<li>AI 本质是智能工具 (认识)  &#x3D;&gt;  人工智能辅助，可以提升效率，但不具备思想意识，无法从零到一取代人类工作</li>
<li>AI 一定会淘汰掉一部分人  &#x3D;&gt;  逆水行舟，不进则退；学会拥抱变化，尽早上车</li>
</ol>
<p>两个工具：</p>
<ol>
<li><p>ChatGPT 3.5 的使用   (4.0 使用方式一致，回答准确度更高，但付费，且每3小时，有次数限制)</p>
<ol>
<li><p>正常注册流程  (IP限制，手机号限制)</p>
</li>
<li><p>三方整合产品</p>
<ul>
<li><p>谷歌搜索：chatgpt 免费网站列表</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/LiLittleCat/awesome-free-chatgpt">https://github.com/LiLittleCat/awesome-free-chatgpt</a></p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>工具 Github Copilot 智能生成代码</p>
</li>
</ol>
<h2 id="ChatGPT-的基本使用-Prompt-优化"><a href="#ChatGPT-的基本使用-Prompt-优化" class="headerlink" title="ChatGPT 的基本使用 - Prompt 优化"></a>ChatGPT 的基本使用 - Prompt 优化</h2><p>AI 互动的过程中，容易出现的问题：</p>
<ul>
<li>AI未能理解问题的核心要点</li>
<li>AI的回答过于宽泛 或 过于具体</li>
<li>AI提供了错误的信息或观点</li>
<li>AI未能提供有价值的建议或解决方案</li>
</ul>
<p>在识别了问题所在之后，我们可以尝试以下策略来优化我们的Prompt：</p>
<ul>
<li><p><strong>明确提问</strong>：</p>
<p>确保问题表述清晰明确，关键字的准确度，决定了AI 对于需求的理解。</p>
</li>
<li><p><strong>细化需求：</strong></p>
<p>将问题拆分成多个小问题，可以帮助AI更具针对性地回答，也利于即时纠错。</p>
</li>
<li><p><strong>添加背景信息：</strong></p>
<p>提供有关问题背景的详细信息，也可以给 AI 预设一个角色，将有助于AI生成更具深度和价值的回答。</p>
</li>
<li><p><strong>适当引导：</strong></p>
<p>比如：“例如”、“请注意”、“请使用”等，来告诉模型你期望它做什么 或者 不做什么</p>
</li>
<li><p><strong>限制范围：</strong></p>
<p>通过限定回答的范围和长度，可以引导AI生成更精炼的回答</p>
</li>
</ul>
<p>​	…</p>
<h3 id="案例-前端简历"><a href="#案例-前端简历" class="headerlink" title="案例 - 前端简历"></a>案例 - 前端简历</h3><h4 id="Prompt-优化前："><a href="#Prompt-优化前：" class="headerlink" title="Prompt 优化前："></a>Prompt 优化前：</h4><p>Prompt1:  </p>
<pre><code>前端简历
</code></pre>
<h4 id="Prompt-优化后："><a href="#Prompt-优化后：" class="headerlink" title="Prompt 优化后："></a>Prompt 优化后：</h4><p>Prompt1:  </p>
<pre><code>背景：你是一名【具有三年开发经验】的前端开发工程师，这三年期间，前两年，你做的【金融】相关四个项目，最后一年做的是【医疗】相关领域的两个项目，且有一定的管理 10人+ 团队的经验。主要的技术栈：【Vue】 和 【小程序】。由于你是计算机软件工程专业，所以你具备一些Java后台、Mysql数据库的知识，也掌握一些基础的算法。

问题：你会如何编写你的简历个人技能介绍

要求：8条技能介绍，请注意：你不会 angular。
</code></pre>
<p>Prompt2：</p>
<pre><code class="jsx">基于上文情境，你会如何编写你的项目经验介绍
</code></pre>
<p>Prompt3：</p>
<pre><code class="jsx">你刚才说的方向完全没有问题，但是我想看到更多的项目技术亮点，项目业务解决方案。
请注意：每个项目3个技术亮点，3个业务解决方案。
</code></pre>
<h2 id="工具-Github-Copilot-智能生成代码的使用"><a href="#工具-Github-Copilot-智能生成代码的使用" class="headerlink" title="工具 Github Copilot 智能生成代码的使用"></a>工具 Github Copilot 智能生成代码的使用</h2><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><ul>
<li>登录 github，试用 Copilot</li>
<li>打开 vscode， 搜索并安装插件 Copilot</li>
</ul>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><ul>
<li>删除键：不接受</li>
<li>Tab键：接收</li>
<li>Ctrl + enter： 查看更多方案</li>
</ul>
<h2 id="个人中心项目实战-基本资料"><a href="#个人中心项目实战-基本资料" class="headerlink" title="个人中心项目实战 - 基本资料"></a>个人中心项目实战 - 基本资料</h2><h3 id="静态结构-校验处理"><a href="#静态结构-校验处理" class="headerlink" title="静态结构 + 校验处理"></a>静态结构 + 校验处理</h3><p>chatgpt prompt 提示词参考：</p>
<pre><code>请基于 elementPlus 和 Vue3 的语法，生成组件代码
要求：
一、表单结构要求
1.  组件中包含一个el-form表单，有四行内容，前三行是输入框，第四行是按钮
2. 第一行 label 登录名称，输入框禁用不可输入状态
3. 第二行 label 用户昵称，输入框可输入
4. 第三行 label 用户邮箱，输入框可输入
5. 第四行按钮，提交修改

二、校验需求
给昵称 和 邮箱添加校验
1. 昵称 nickname 必须是2-10位的非空字符串
2. 邮箱 email 符合邮箱格式即可，且不能为空
</code></pre>
<p>参考目标代码：</p>
<pre><code class="jsx">&lt;script setup&gt;
import &#123; useUserStore &#125; from &#39;@/stores&#39;
import &#123; ref &#125; from &#39;vue&#39;
const &#123;
  user: &#123; username, nickname, email, id &#125;
&#125; = useUserStore()

const userInfo = ref(&#123; username, nickname, email, id &#125;)

const rules = &#123;
  nickname: [
    &#123; required: true, message: &#39;请输入用户昵称&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;2,10&#125;$/,
      message: &#39;昵称必须是2-10位的非空字符串&#39;,
      trigger: &#39;blur&#39;
    &#125;
  ],
  email: [
    &#123; required: true, message: &#39;请输入用户邮箱&#39;, trigger: &#39;blur&#39; &#125;,
    &#123; type: &#39;email&#39;, message: &#39;邮箱格式不正确&#39;, trigger: &#39;blur&#39; &#125;
  ]
&#125;
&lt;/script&gt;

&lt;template&gt;
  &lt;page-container title=&quot;基本资料&quot;&gt;
    &lt;el-row&gt;
      &lt;el-col :span=&quot;12&quot;&gt;
        &lt;el-form
          :model=&quot;userInfo&quot;
          :rules=&quot;rules&quot;
          ref=&quot;formRef&quot;
          label-width=&quot;100px&quot;
          size=&quot;large&quot;
        &gt;
          &lt;el-form-item label=&quot;登录名称&quot;&gt;
            &lt;el-input v-model=&quot;userInfo.username&quot; disabled&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item label=&quot;用户昵称&quot; prop=&quot;nickname&quot;&gt;
            &lt;el-input v-model=&quot;userInfo.nickname&quot;&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item label=&quot;用户邮箱&quot; prop=&quot;email&quot;&gt;
            &lt;el-input v-model=&quot;userInfo.email&quot;&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item&gt;
            &lt;el-button type=&quot;primary&quot;&gt;提交修改&lt;/el-button&gt;
          &lt;/el-form-item&gt;
        &lt;/el-form&gt;
      &lt;/el-col&gt;
    &lt;/el-row&gt;
  &lt;/page-container&gt;
&lt;/template&gt;
</code></pre>
<h3 id="封装接口，更新个人信息"><a href="#封装接口，更新个人信息" class="headerlink" title="封装接口，更新个人信息"></a>封装接口，更新个人信息</h3><ol>
<li>封装接口</li>
</ol>
<pre><code class="jsx">export const userUpdateInfoService = (&#123; id, nickname, email &#125;) =&gt;
  request.put(&#39;/my/userinfo&#39;, &#123; id, nickname, email &#125;)
</code></pre>
<ol start="2">
<li>页面中校验后，封装调用</li>
</ol>
<pre><code class="jsx">const formRef = ref()
const onSubmit = async () =&gt; &#123;
  const valid = await formRef.value.validate()
  if (valid) &#123;
    await userUpdateInfoService(userInfo.value)
    await getUser()
    ElMessage.success(&#39;修改成功&#39;)
  &#125;
&#125;
</code></pre>
<h2 id="个人中心项目实战-更换头像"><a href="#个人中心项目实战-更换头像" class="headerlink" title="个人中心项目实战 - 更换头像"></a>个人中心项目实战 - 更换头像</h2><h3 id="静态结构"><a href="#静态结构" class="headerlink" title="静态结构"></a>静态结构</h3><pre><code class="jsx">&lt;script setup&gt;
import &#123; ref &#125; from &#39;vue&#39;
import &#123; Plus, Upload &#125; from &#39;@element-plus/icons-vue&#39;
import &#123; useUserStore &#125; from &#39;@/stores&#39;

const userStore = useUserStore()

const imgUrl = ref(userStore.user.user_pic)
const onUploadFile = (file) =&gt; &#123;
  console.log(file)
&#125;
&lt;/script&gt;

&lt;template&gt;
  &lt;page-container title=&quot;更换头像&quot;&gt;
    &lt;el-row&gt;
      &lt;el-col :span=&quot;12&quot;&gt;
        &lt;el-upload
          ref=&quot;uploadRef&quot;
          class=&quot;avatar-uploader&quot;
          :auto-upload=&quot;false&quot;
          :show-file-list=&quot;false&quot;
          :on-change=&quot;onUploadFile&quot;
        &gt;
          &lt;img v-if=&quot;imgUrl&quot; :src=&quot;imgUrl&quot; class=&quot;avatar&quot; /&gt;
          &lt;img v-else src=&quot;@/assets/avatar.jpg&quot; width=&quot;278&quot; /&gt;
        &lt;/el-upload&gt;
        &lt;br /&gt;
        &lt;el-button type=&quot;primary&quot; :icon=&quot;Plus&quot; size=&quot;large&quot;&gt;
          选择图片
        &lt;/el-button&gt;
        &lt;el-button type=&quot;success&quot; :icon=&quot;Upload&quot; size=&quot;large&quot;&gt;
          上传头像
        &lt;/el-button&gt;
      &lt;/el-col&gt;
    &lt;/el-row&gt;
  &lt;/page-container&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.avatar-uploader &#123;
  :deep() &#123;
    .avatar &#123;
      width: 278px;
      height: 278px;
      display: block;
    &#125;
    .el-upload &#123;
      border: 1px dashed var(--el-border-color);
      border-radius: 6px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: var(--el-transition-duration-fast);
    &#125;
    .el-upload:hover &#123;
      border-color: var(--el-color-primary);
    &#125;
    .el-icon.avatar-uploader-icon &#123;
      font-size: 28px;
      color: #8c939d;
      width: 278px;
      height: 278px;
      text-align: center;
    &#125;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
<h3 id="选择预览图片"><a href="#选择预览图片" class="headerlink" title="选择预览图片"></a>选择预览图片</h3><pre><code class="jsx">const uploadRef = ref()
const imgUrl = ref(userStore.user.user_pic)
const onUploadFile = (file) =&gt; &#123;
  const reader = new FileReader()
  reader.readAsDataURL(file.raw)
  reader.onload = () =&gt; &#123;
    imgUrl.value = reader.result
  &#125;
&#125;
&lt;el-upload ref=&quot;uploadRef&quot;&gt;&lt;/el-upload&gt; 
&lt;el-button
  @click=&quot;uploadRef.$el.querySelector(&#39;input&#39;).click()&quot;
  type=&quot;primary&quot;
  :icon=&quot;Plus&quot;
  size=&quot;large&quot;
  &gt;选择图片&lt;/el-button
&gt;
</code></pre>
<h3 id="上传头像"><a href="#上传头像" class="headerlink" title="上传头像"></a>上传头像</h3><ol>
<li>封装接口</li>
</ol>
<pre><code class="jsx">export const userUploadAvatarService = (avatar) =&gt; request.patch(&#39;/my/update/avatar&#39;, &#123; avatar &#125;)
</code></pre>
<ol start="2">
<li>调用接口</li>
</ol>
<pre><code class="jsx">const onUpdateAvatar = async () =&gt; &#123;
  await userUploadAvatarService(imgUrl.value)
  await userStore.getUser()
  ElMessage(&#123; type: &#39;success&#39;, message: &#39;更换头像成功&#39; &#125;)
&#125;
</code></pre>
<h2 id="个人中心项目实战-重置密码"><a href="#个人中心项目实战-重置密码" class="headerlink" title="个人中心项目实战 - 重置密码"></a>个人中心项目实战 - 重置密码</h2><p>chatgpt  prompt</p>
<pre><code class="jsx">请基于 elementPlus 和 Vue3 的语法，生成组件代码
要求：
一、表单结构要求
1. 组件中包含一个el-form表单，有四行内容，前三行是表单输入框，第四行是两个按钮
2. 第一行 label 原密码
3. 第二行 label 新密码
4. 第三行 label 确认密码
5. 第四行两个按钮，修改密码 和 重置

二、form绑定字段如下：
const pwdForm = ref(&#123;
  old_pwd: &#39;&#39;,
  new_pwd: &#39;&#39;,
  re_pwd: &#39;&#39;
&#125;)

三、校验需求
所有字段，都是 6-15位 非空
自定义校验1：原密码 和 新密码不能一样
自定义校验2：新密码 和 确认密码必须一样
</code></pre>
<h3 id="静态结构-校验处理-1"><a href="#静态结构-校验处理-1" class="headerlink" title="静态结构 + 校验处理"></a>静态结构 + 校验处理</h3><pre><code class="jsx">&lt;script setup&gt;
import &#123; ref &#125; from &#39;vue&#39;
const pwdForm = ref(&#123;
  old_pwd: &#39;&#39;,
  new_pwd: &#39;&#39;,
  re_pwd: &#39;&#39;
&#125;)

const checkOldSame = (rule, value, cb) =&gt; &#123;
  if (value === pwdForm.value.old_pwd) &#123;
    cb(new Error(&#39;原密码和新密码不能一样!&#39;))
  &#125; else &#123;
    cb()
  &#125;
&#125;

const checkNewSame = (rule, value, cb) =&gt; &#123;
  if (value !== pwdForm.value.new_pwd) &#123;
    cb(new Error(&#39;新密码和确认再次输入的新密码不一样!&#39;))
  &#125; else &#123;
    cb()
  &#125;
&#125;
const rules = &#123;
  // 原密码
  old_pwd: [
    &#123; required: true, message: &#39;请输入密码&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;6,15&#125;$/,
      message: &#39;密码长度必须是6-15位的非空字符串&#39;,
      trigger: &#39;blur&#39;
    &#125;
  ],
  // 新密码
  new_pwd: [
    &#123; required: true, message: &#39;请输入新密码&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;6,15&#125;$/,
      message: &#39;密码长度必须是6-15位的非空字符串&#39;,
      trigger: &#39;blur&#39;
    &#125;,
    &#123; validator: checkOldSame, trigger: &#39;blur&#39; &#125;
  ],
  // 确认新密码
  re_pwd: [
    &#123; required: true, message: &#39;请再次确认新密码&#39;, trigger: &#39;blur&#39; &#125;,
    &#123;
      pattern: /^\S&#123;6,15&#125;$/,
      message: &#39;密码长度必须是6-15位的非空字符串&#39;,
      trigger: &#39;blur&#39;
    &#125;,
    &#123; validator: checkNewSame, trigger: &#39;blur&#39; &#125;
  ]
&#125;
&lt;/script&gt;
&lt;template&gt;
  &lt;page-container title=&quot;重置密码&quot;&gt;
    &lt;el-row&gt;
      &lt;el-col :span=&quot;12&quot;&gt;
        &lt;el-form
          :model=&quot;pwdForm&quot;
          :rules=&quot;rules&quot;
          ref=&quot;formRef&quot;
          label-width=&quot;100px&quot;
          size=&quot;large&quot;
        &gt;
          &lt;el-form-item label=&quot;原密码&quot; prop=&quot;old_pwd&quot;&gt;
            &lt;el-input v-model=&quot;pwdForm.old_pwd&quot; type=&quot;password&quot;&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item label=&quot;新密码&quot; prop=&quot;new_pwd&quot;&gt;
            &lt;el-input v-model=&quot;pwdForm.new_pwd&quot; type=&quot;password&quot;&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item label=&quot;确认新密码&quot; prop=&quot;re_pwd&quot;&gt;
            &lt;el-input v-model=&quot;pwdForm.re_pwd&quot; type=&quot;password&quot;&gt;&lt;/el-input&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item&gt;
            &lt;el-button @click=&quot;onSubmit&quot; type=&quot;primary&quot;&gt;修改密码&lt;/el-button&gt;
            &lt;el-button @click=&quot;onReset&quot;&gt;重置&lt;/el-button&gt;
          &lt;/el-form-item&gt;
        &lt;/el-form&gt;
      &lt;/el-col&gt;
    &lt;/el-row&gt;
  &lt;/page-container&gt;
&lt;/template&gt;
</code></pre>
<h3 id="封装接口，更新密码信息"><a href="#封装接口，更新密码信息" class="headerlink" title="封装接口，更新密码信息"></a>封装接口，更新密码信息</h3><ol>
<li>封装接口</li>
</ol>
<pre><code class="jsx">export const userUpdatePassService = (&#123; old_pwd, new_pwd, re_pwd &#125;) =&gt;
  request.patch(&#39;/my/updatepwd&#39;, &#123; old_pwd, new_pwd, re_pwd &#125;)
</code></pre>
<ol start="2">
<li>页面中调用</li>
</ol>
<pre><code class="jsx">const formRef = ref()
const router = useRouter()
const userStore = useUserStore()
const onSubmit = async () =&gt; &#123;
  const valid = await formRef.value.validate()
  if (valid) &#123;
    await userUpdatePassService(pwdForm.value)
    ElMessage(&#123; type: &#39;success&#39;, message: &#39;更换密码成功&#39; &#125;)
    userStore.setToken(&#39;&#39;)
    userStore.setUser(&#123;&#125;)
    router.push(&#39;/login&#39;)
  &#125;
&#125;
const onReset = () =&gt; &#123;
  formRef.value.resetFields()
&#125;
</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://349264976.github.io">en</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://349264976.github.io/2023/08/08/%E5%A4%A7%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">https://349264976.github.io/2023/08/08/%E5%A4%A7%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://349264976.github.io" target="_blank">fuguangmengying</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/08/Vue3%E5%85%A5%E9%97%A8/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2023/08/03/%E9%A1%B9%E7%9B%AE%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/" title="项目面试准备"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">项目面试准备</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">en</div><div class="author-info__description">漫漫长路</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.</span> <span class="toc-text">后台数据管理系统 - 项目架构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">项目页面介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pnpm-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.</span> <span class="toc-text">pnpm 包管理器 - 创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESLint-amp-prettier-%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC"><span class="toc-number">1.3.</span> <span class="toc-text">ESLint &amp; prettier 配置代码风格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E-husky-%E7%9A%84%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-number">1.4.</span> <span class="toc-text">基于 husky  的代码检查工作流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E6%95%B4%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95"><span class="toc-number">1.5.</span> <span class="toc-text">调整项目目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VueRouter4-%E8%B7%AF%E7%94%B1%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90"><span class="toc-number">1.6.</span> <span class="toc-text">VueRouter4 路由代码解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5-element-ui-%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">1.7.</span> <span class="toc-text">引入 element-ui 组件库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pinia-%E6%9E%84%E5%BB%BA%E7%94%A8%E6%88%B7%E4%BB%93%E5%BA%93-%E5%92%8C-%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-number">1.8.</span> <span class="toc-text">Pinia - 构建用户仓库 和 持久化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pinia-%E9%85%8D%E7%BD%AE%E4%BB%93%E5%BA%93%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">Pinia - 配置仓库统一管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92-%E8%AF%B7%E6%B1%82%E5%B7%A5%E5%85%B7%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.10.</span> <span class="toc-text">数据交互 - 请求工具设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA-axios-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.10.1.</span> <span class="toc-text">1. 创建 axios 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%8C%E6%88%90-axios-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-number">1.10.2.</span> <span class="toc-text">2. 完成 axios 基本配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E6%95%B4%E4%BD%93%E8%B7%AF%E7%94%B1%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.11.</span> <span class="toc-text">首页整体路由设计</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2-element-plus-%E8%A1%A8%E5%8D%95-amp-%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.</span> <span class="toc-text">登录注册页面 [element-plus 表单 &amp; 表单校验]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95-%E9%9D%99%E6%80%81%E7%BB%93%E6%9E%84-amp-%E5%9F%BA%E6%9C%AC%E5%88%87%E6%8D%A2"><span class="toc-number">2.1.</span> <span class="toc-text">注册登录 静态结构 &amp; 基本切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">2.2.</span> <span class="toc-text">注册功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.2.1.</span> <span class="toc-text">实现注册校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%89%8D%E7%9A%84%E9%A2%84%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.2.2.</span> <span class="toc-text">注册前的预校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-api-%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">2.2.3.</span> <span class="toc-text">封装 api 实现注册功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-number">2.3.</span> <span class="toc-text">登录功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.3.1.</span> <span class="toc-text">实现登录校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%89%8D%E7%9A%84%E9%A2%84%E6%A0%A1%E9%AA%8C-amp-%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F"><span class="toc-number">2.3.2.</span> <span class="toc-text">登录前的预校验 &amp; 登录成功</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5-layout-%E6%9E%B6%E5%AD%90-element-plus-%E8%8F%9C%E5%8D%95"><span class="toc-number">3.</span> <span class="toc-text">首页 layout 架子 [element-plus 菜单]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9E%B6%E5%AD%90%E6%8B%86%E8%A7%A3"><span class="toc-number">3.1.</span> <span class="toc-text">基本架子拆解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E8%AE%BF%E9%97%AE%E6%8B%A6%E6%88%AA"><span class="toc-number">3.2.</span> <span class="toc-text">登录访问拦截</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96-amp-%E6%B8%B2%E6%9F%93"><span class="toc-number">3.3.</span> <span class="toc-text">用户基本信息获取&amp;渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E5%8A%9F%E8%83%BD-element-plus-%E7%A1%AE%E8%AE%A4%E6%A1%86"><span class="toc-number">3.4.</span> <span class="toc-text">退出功能 [element-plus 确认框]</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2-element-plus-%E8%A1%A8%E6%A0%BC"><span class="toc-number">4.</span> <span class="toc-text">文章分类页面 - [element-plus 表格]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9E%B6%E5%AD%90-PageContainer"><span class="toc-number">4.1.</span> <span class="toc-text">基本架子 - PageContainer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E6%B8%B2%E6%9F%93"><span class="toc-number">4.2.</span> <span class="toc-text">文章分类渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85API-%E8%AF%B7%E6%B1%82%E8%8E%B7%E5%8F%96%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.1.</span> <span class="toc-text">封装API - 请求获取表格数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#el-table-%E8%A1%A8%E6%A0%BC%E5%8A%A8%E6%80%81%E6%B8%B2%E6%9F%93"><span class="toc-number">4.2.2.</span> <span class="toc-text">el-table 表格动态渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#el-table-%E8%A1%A8%E6%A0%BC-loading-%E6%95%88%E6%9E%9C"><span class="toc-number">4.2.3.</span> <span class="toc-text">el-table 表格 loading 效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E6%B7%BB%E5%8A%A0%E7%BC%96%E8%BE%91-element-plus-%E5%BC%B9%E5%B1%82"><span class="toc-number">4.3.</span> <span class="toc-text">文章分类添加编辑 [element-plus 弹层]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E5%BC%B9%E5%B1%82"><span class="toc-number">4.3.1.</span> <span class="toc-text">点击显示弹层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%BC%B9%E5%B1%82%E7%BB%84%E4%BB%B6-ChannelEdit"><span class="toc-number">4.3.2.</span> <span class="toc-text">封装弹层组件 ChannelEdit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%BC%B9%E5%B1%82%E8%A1%A8%E5%8D%95"><span class="toc-number">4.3.3.</span> <span class="toc-text">准备弹层表单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E8%AE%A4%E6%8F%90%E4%BA%A4"><span class="toc-number">4.3.4.</span> <span class="toc-text">确认提交</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E5%88%A0%E9%99%A4"><span class="toc-number">4.4.</span> <span class="toc-text">文章分类删除</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2-element-plus-%E5%BC%BA%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">文章管理页面 - [element-plus 强化]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">5.1.</span> <span class="toc-text">文章列表渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9E%B6%E5%AD%90%E6%90%AD%E5%BB%BA"><span class="toc-number">5.1.1.</span> <span class="toc-text">基本架子搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E8%8B%B1%E5%9B%BD%E9%99%85%E5%8C%96%E5%A4%84%E7%90%86"><span class="toc-number">5.1.2.</span> <span class="toc-text">中英国际化处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E9%80%89%E6%8B%A9"><span class="toc-number">5.1.3.</span> <span class="toc-text">文章分类选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-API-%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%AF%B7%E6%B1%82%E6%B8%B2%E6%9F%93"><span class="toc-number">5.1.4.</span> <span class="toc-text">封装 API 接口，请求渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%B8%B2%E6%9F%93-element-plus-%E5%88%86%E9%A1%B5"><span class="toc-number">5.1.5.</span> <span class="toc-text">分页渲染 [element-plus 分页]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-loading-%E5%A4%84%E7%90%86"><span class="toc-number">5.1.6.</span> <span class="toc-text">添加 loading 处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2-%E5%92%8C-%E9%87%8D%E7%BD%AE%E5%8A%9F%E8%83%BD"><span class="toc-number">5.1.7.</span> <span class="toc-text">搜索 和 重置功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%8F%91%E5%B8%83-amp-%E4%BF%AE%E6%94%B9-element-plus-%E6%8A%BD%E5%B1%89"><span class="toc-number">5.2.</span> <span class="toc-text">文章发布&amp;修改 [element-plus - 抽屉]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%8A%BD%E5%B1%89"><span class="toc-number">5.2.1.</span> <span class="toc-text">点击显示抽屉</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%8A%BD%E5%B1%89%E7%BB%84%E4%BB%B6-ArticleEdit"><span class="toc-number">5.2.2.</span> <span class="toc-text">封装抽屉组件 ArticleEdit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%96%84%E6%8A%BD%E5%B1%89%E8%A1%A8%E5%8D%95%E7%BB%93%E6%9E%84"><span class="toc-number">5.2.3.</span> <span class="toc-text">完善抽屉表单结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-element-plus-%E6%96%87%E4%BB%B6%E9%A2%84%E8%A7%88"><span class="toc-number">5.2.4.</span> <span class="toc-text">上传文件 [element-plus - 文件预览]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8-vue-quill"><span class="toc-number">5.2.5.</span> <span class="toc-text">富文本编辑器 [ vue-quill ]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E5%8A%9F%E8%83%BD"><span class="toc-number">5.2.6.</span> <span class="toc-text">添加文章功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%AE%8C%E6%88%90%E5%90%8E%E7%9A%84%E5%86%85%E5%AE%B9%E9%87%8D%E7%BD%AE"><span class="toc-number">5.2.7.</span> <span class="toc-text">添加完成后的内容重置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%96%87%E7%AB%A0%E5%9B%9E%E6%98%BE"><span class="toc-number">5.2.8.</span> <span class="toc-text">编辑文章回显</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%96%87%E7%AB%A0%E5%8A%9F%E8%83%BD"><span class="toc-number">5.2.9.</span> <span class="toc-text">编辑文章功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%A0%E9%99%A4"><span class="toc-number">5.3.</span> <span class="toc-text">文章删除</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ChatGPT-amp-Copilot"><span class="toc-number">6.</span> <span class="toc-text">ChatGPT &amp; Copilot</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AI-%E7%9A%84%E8%AE%A4%E7%9F%A5-amp-%E8%AE%B2%E8%A7%A3%E5%86%85%E5%AE%B9%E8%AF%B4%E6%98%8E"><span class="toc-number">6.1.</span> <span class="toc-text">AI 的认知 &amp; 讲解内容说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ChatGPT-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-Prompt-%E4%BC%98%E5%8C%96"><span class="toc-number">6.2.</span> <span class="toc-text">ChatGPT 的基本使用 - Prompt 优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-%E5%89%8D%E7%AB%AF%E7%AE%80%E5%8E%86"><span class="toc-number">6.2.1.</span> <span class="toc-text">案例 - 前端简历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Prompt-%E4%BC%98%E5%8C%96%E5%89%8D%EF%BC%9A"><span class="toc-number">6.2.1.1.</span> <span class="toc-text">Prompt 优化前：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Prompt-%E4%BC%98%E5%8C%96%E5%90%8E%EF%BC%9A"><span class="toc-number">6.2.1.2.</span> <span class="toc-text">Prompt 优化后：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7-Github-Copilot-%E6%99%BA%E8%83%BD%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.3.</span> <span class="toc-text">工具 Github Copilot 智能生成代码的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-number">6.3.1.</span> <span class="toc-text">安装步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">6.3.2.</span> <span class="toc-text">使用说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98-%E5%9F%BA%E6%9C%AC%E8%B5%84%E6%96%99"><span class="toc-number">6.4.</span> <span class="toc-text">个人中心项目实战 - 基本资料</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E7%BB%93%E6%9E%84-%E6%A0%A1%E9%AA%8C%E5%A4%84%E7%90%86"><span class="toc-number">6.4.1.</span> <span class="toc-text">静态结构 + 校验处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%9B%B4%E6%96%B0%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">6.4.2.</span> <span class="toc-text">封装接口，更新个人信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98-%E6%9B%B4%E6%8D%A2%E5%A4%B4%E5%83%8F"><span class="toc-number">6.5.</span> <span class="toc-text">个人中心项目实战 - 更换头像</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E7%BB%93%E6%9E%84"><span class="toc-number">6.5.1.</span> <span class="toc-text">静态结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%A2%84%E8%A7%88%E5%9B%BE%E7%89%87"><span class="toc-number">6.5.2.</span> <span class="toc-text">选择预览图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E5%A4%B4%E5%83%8F"><span class="toc-number">6.5.3.</span> <span class="toc-text">上传头像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98-%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-number">6.6.</span> <span class="toc-text">个人中心项目实战 - 重置密码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E7%BB%93%E6%9E%84-%E6%A0%A1%E9%AA%8C%E5%A4%84%E7%90%86-1"><span class="toc-number">6.6.1.</span> <span class="toc-text">静态结构 + 校验处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%9B%B4%E6%96%B0%E5%AF%86%E7%A0%81%E4%BF%A1%E6%81%AF"><span class="toc-number">6.6.2.</span> <span class="toc-text">封装接口，更新密码信息</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/06/jdk8%E6%96%B0%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/" title="jdk8新特性学习使用">jdk8新特性学习使用</a><time datetime="2023-09-06T13:03:35.000Z" title="发表于 2023-09-06 21:03:35">2023-09-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/03/mybatis-plus/" title="mybatis_plus">mybatis_plus</a><time datetime="2023-09-03T13:06:27.000Z" title="发表于 2023-09-03 21:06:27">2023-09-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/29/mysql%E5%9F%BA%E4%BA%8Edatetime%E5%BE%97%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2/" title="mysql基于datetime得时间范围查询">mysql基于datetime得时间范围查询</a><time datetime="2023-08-29T15:46:22.000Z" title="发表于 2023-08-29 23:46:22">2023-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/19/Swagger2/" title="swagger">swagger</a><time datetime="2023-08-19T11:55:11.000Z" title="发表于 2023-08-19 19:55:11">2023-08-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/13/Redis%E5%AE%9E%E6%88%98%E7%AF%87/" title="无题">无题</a><time datetime="2023-08-13T03:34:38.851Z" title="发表于 2023-08-13 11:34:38">2023-08-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By en</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>